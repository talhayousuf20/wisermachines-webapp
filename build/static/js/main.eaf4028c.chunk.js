(this["webpackJsonpwisermachines-webapp"]=this["webpackJsonpwisermachines-webapp"]||[]).push([[0],{272:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(1),r=n.n(i),o=n(17),c=n.n(o),s=n(3),l=n(92),d=n(27),u=n(310),j=n(274),m={RED:{800:"#E62020",700:"#F2353C",600:"#FF4C52",500:"#FF666B",400:"#FF8589",300:"#FFBFC1",200:"#FFBFC1",100:"#FFDBDC"},PINK:{800:"#E6155E",700:"#EB2F71",600:"#F74584",500:"#FF5E97",400:"#FF7DAA",300:"#FF9EC0",200:"#FFBAD2",100:"#FFD9E6"},PURPLE:{800:"#7231F5",700:"#8349F5",600:"#9463F7",500:"#A57AFA",400:"#B693FA",300:"#C8AEFC",200:"#D9C7FC",100:"#EAE1FC"},INDIGO:{800:"#364FF5",700:"#4D64FA",600:"#667AFA",500:"#7D8EFA",400:"#96A3FA",300:"#AFB9FA",200:"#C7CFFC",100:"#E1E4FC"},BLUE:{800:"#0B69E3",700:"#247CF0",600:"#3E8EF7",500:"#589FFC",400:"#79B2FC",300:"#99C5FF",200:"#B8D7FF",100:"#D9E9FF"},CYAN:{800:"#007D96",700:"#0099B8",600:"#0BB2D4",500:"#28C0DE",400:"#54CBE3",300:"#77D9ED",200:"#9DE6F5",100:"#C2F5FF"},TEAL:{800:"#008577",700:"#089E8F",600:"#17B3A3",500:"#28C7B7",400:"#45D6C8",300:"#6BE3D7",200:"#92F0E6",100:"#C3F7F2"},GREEN:{800:"#008C4D",700:"#05A85C",600:"#11C26D",500:"#28D17C",400:"#49DE94",300:"#72E8AB",200:"#99F2C2",100:"#C2FADC"},LIGHTGREEN:{800:"#4A7800",700:"#5A9101",600:"#6DA611",500:"#7EB524",400:"#94CC39",300:"#ADD966",200:"#C3E887",100:"#DCF7B0"},YELLOW:{800:"#FAA700",700:"#FCB900",600:"#FFCD17",500:"#FFDC2E",400:"#FFE54F",300:"#FFED78",200:"#FFF39C",100:"#FFF6B5"},ORANGE:{800:"#B53F00",700:"#DE4E00",600:"#EB6709",500:"#F57D1B",400:"#FA983C",300:"#FAB06B",200:"#FFC894",100:"#FFE1C4"},BROWN:{800:"#6B534C",700:"#82675F",600:"#997B71",500:"#AB8C82",400:"#BDA299",300:"#CFB8B0",200:"#E0CDC5",100:"#F5E2DA"},GREY:{800:"#424242",700:"#616161",600:"#757575",500:"#9E9E9E",400:"#BDBDBD",300:"#E0E0E0",200:"#EEEEEE",100:"#FAFAFA"},BLUEGREY:{800:"#263238",700:"#37474F",600:"#526069",500:"#76838F",400:"#A3AFB7",300:"#CCD5DB",200:"#E4EAEC",100:"#F3F7F9"}},h=function(){return Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"50vh"},children:Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(j.a,{align:"center",variant:"h4",style:{color:m.BLUEGREY[400]},children:"404: Page Not Found"})})})},b=n(177),p=n(275),O={root:{padding:30},textContainer:{paddingLeft:80,paddingRight:80},image:{height:"50vh",padding:10},heading:{color:m.BLUEGREY[700]},text:{color:m.BLUEGREY[800]},buttonContainer:{paddingBottom:30,paddingTop:30},button:{color:m.TEAL[800]}};function f(){return Object(a.jsx)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:O.root,children:Object(a.jsx)(u.a,{children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center",component:b.a,elevation:2,spacing:4,children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)("img",{src:"img/underConstruction.jpg",alt:"under construction",style:O.image})}),Object(a.jsx)(u.a,{item:!0,md:6,children:Object(a.jsxs)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-start",style:O.textContainer,spacing:4,children:[Object(a.jsxs)(u.a,{item:!0,xs:12,children:[Object(a.jsx)(j.a,{variant:"h5",paragraph:!0,style:O.heading,children:"This feature is currently under construction."}),Object(a.jsx)(j.a,{variant:"caption",style:O.text,children:"You are here a little early."})]}),Object(a.jsx)(u.a,{item:!0,xs:12,style:O.buttonContainer,children:Object(a.jsx)(p.a,{variant:"outlined",fullWidth:!0,style:O.button,onClick:function(e){window.history.go(-1)},children:Object(a.jsx)(j.a,{variant:"caption",children:"Go back"})})})]})})]})})})}var g=n(73),x=n.n(g),y=n(314),v=n(12),_="md",C=function(e){var t,n;return{grow:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center"},appBar:(t={},Object(v.a)(t,e.breakpoints.up("lg"),{width:"calc(100% - ".concat(50,"px)"),marginLeft:50}),Object(v.a)(t,"width","100%"),Object(v.a)(t,"marginLeft",0),Object(v.a)(t,"backgroundColor",m.BLUEGREY[100]),Object(v.a)(t,"color",m.BLUEGREY[500]),Object(v.a)(t,"boxShadow","0px 0px 0px 0px"),t),menuButtonDesktop:(n={},Object(v.a)(n,e.breakpoints.down(_),{display:"none"}),Object(v.a)(n,"height",30),Object(v.a)(n,"width",30),Object(v.a)(n,"marginLeft",10),Object(v.a)(n,"marginTop",15),n),menuButtonMobile:Object(v.a)({display:"none"},e.breakpoints.down(_),{display:"flex"}),logo:{maxWidth:"80px"},drawer:{width:200,flexShrink:0,whiteSpace:"nowrap",boxShadow:"0px 0px 0px 0px"},drawerClose:Object(v.a)({overflowX:"hidden",width:50},e.breakpoints.down(_),{display:"none"}),listItem:{marginBottom:e.spacing(2)},listItemIcon:{width:20,color:m.TEAL[700]},listItemText:{paddingLeft:20,paddingTop:2,color:m.TEAL[700]},sectionDesktop:Object(v.a)({display:"none"},e.breakpoints.up(_),{display:"flex"}),sectionMobile:Object(v.a)({display:"flex"},e.breakpoints.up(_),{display:"none"}),drawerHeader:Object(s.a)({},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(1)},menuItemIcon:{paddingRight:10,color:m.TEAL[600]}}},D=function(e){return{popper:{position:"relative",zIndex:999},button:{backgroundColor:"white",color:m.BLUEGREY[500]},iconInsideButton:{height:20,width:20,paddingLeft:5,paddingRight:5},iconButton:{height:15,width:15},menuItemIcon:{paddingRight:10,height:15},cardHover:{"&:hover":{boxShadow:"0px 0.5px 1px 2px"+m.INDIGO[400]}}}},N=(m.BLUEGREY[200],function(e){return{paper:{margin:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(4)},submit:{marginTop:e.spacing(4)},submitLoading:{marginTop:e.spacing(4),height:36,padding:6},divider:{marginTop:e.spacing(5),backgroundColor:m.BLUEGREY[500],height:1,border:"none"},success:{backgroundColor:m.LIGHTGREEN[400],color:"white",padding:e.spacing(2),marginBottom:e.spacing(4)}}}),w={title:{fontSize:13},error:{fontSize:12},container:{margin:15,paddingTop:15,paddingBottom:15}},I={iconPaper:{padding:"5px 5px 5px 5px",display:"flex",justifyContent:"center",align:"center",backgroundColor:"transparent"},textPaper:{padding:"5px 5px 5px 5px",display:"flex",justifyContent:"center",align:"center",backgroundColor:"transparent",minHeight:"45px"}},M=n(313),E=n(9),A=n(6),L=n(174),k=n(317),S=n(83),T=n.n(S),F=n(315),R=n(32),W=n.n(R),B=n(97),G=n.n(B),Z=n(79),P=n.n(Z),z=n(70),U=n.n(z);P()(W.a),G()(W.a);var H=function(e,t,n){return e>=t.high?n.high:e>=t.low?n.normal:(t.low,n.low)},Y=function(e){var t=e.item1,n=e.item2,r=e.colorSets,o=Object(i.useState)(function(e,t,n){var a,i,r=H(e.value,e.thresholds,n.gaugeItem1),o=H(t.value,t.thresholds,n.gaugeItem2);return{chart:{type:"solidgauge",height:"100%",margin:[5,5,5,5]},title:{text:null},tooltip:{enabled:!1},credits:{enabled:!1},exporting:{enabled:!1},pane:{startAngle:0,endAngle:360,background:{outerRadius:70,innerRadius:0,backgroundColor:"none",borderWidth:0}},yAxis:[{min:0,lineWidth:0,tickPositions:[]},{min:0,max:100,lineWidth:0,tickPositions:[]}],plotOptions:{solidgauge:{linecap:"round",rounded:!0}},series:[(i=r,{data:[{color:W.a.color(i).setOpacity(.2).get(),radius:110,innerRadius:100,y:100}],dataLabels:{enabled:!1},enableMouseTracking:!1}),{name:e.name,data:[{color:r,radius:110,innerRadius:100,y:e.value}],dataLabels:{enabled:!0,y:0,format:"".concat(e.name,":{y}").concat(e.suffix),borderWidth:0,backgroundColor:"none",color:r,shadow:!1,padding:1,style:{textOutline:"none",fontSize:10}},enableMouseTracking:!0},(a=o,{data:[{color:W.a.color(a).setOpacity(.2).get(),radius:96,innerRadius:86,y:100}],dataLabels:{enabled:!1},enableMouseTracking:!1}),{name:t.name,data:[{color:o,radius:96,innerRadius:86,y:t.value}],dataLabels:{enabled:!0,y:-25,format:"".concat(t.name,":{y}").concat(t.suffix),borderWidth:0,backgroundColor:"none",color:o,shadow:!1,padding:1,style:{textOutline:"none",fontSize:10}},enableMouseTracking:!0}]}}(t,n,r)),c=Object(E.a)(o,1)[0];return Object(a.jsx)(U.a,{highcharts:W.a,options:c})},V=n(84),q=n.n(V),K=n(118),J=n.n(K),X={getAllWorkshops:"GET_ALL_WORKSHOPS",workshopsLoading:"LOADING_WORKSHOPS",addWorkshopLoading:"ADD_WORKSHOP_LOADING",editWorkshopLoading:"EDIT_WORKSHOP_LOADING",deleteWorkshopLoading:"DELETE_WORKSHOP_LOADING",addWorkshop:"ADD_WORKSHOP",editOrDeleteWorkshop:"EDIT_OR_DELETE_WORKSHOP",notFound:"WORKSHOPS_NOT_FOUND"},$={getAllZonesInAWorkshop:"GET_ALL_ZONES_IN_A_WORKSHOP",zonesLoading:"LOADING_ZONES",addZoneLoading:"ADD_WORKSHOP_LOADING",editZoneLoading:"EDIT_WORKSHOP_LOADING",deleteZoneLoading:"DELETE_WORKSHOP_LOADING",addZone:"ADD_ZONE",editOrDeleteZone:"EDIT_OR_DELETE_ZONE",notFound:"ZONES_NOT_FOUND"},Q={getAllMachinesInAZone:"GET_ALL_MACHINES_IN_A_ZONE",getAllMachineMappings:"GET_ALL_MACHINE_MAPPINGS",machinesLoading:"LOADING_MACHINES",addMachine:"ADD_MACHINE",addMachineLoading:"ADD_MACHINE_LOADING",editOrDeleteMachine:"EDIT_OR_DELETE_MACHINE",editMachineLoading:"EDIT_MACHINE_LOADING",deleteMachineLoading:"DELETE_MACHINE_LOADING",editMachineMapping:"EDIT_MACHINE_MAPPING",editMachineMappingLoading:"EDIT_MACHINE_MAPPING_LOADING",deleteMachineMappingLoading:"DELETE_MACHINE_MAPPING_LOADING",notFound:"MACHINES_NOT_FOUND"},ee={getAllNodesInAZone:"GET_ALL_MACHINES_AND_NODES_IN_A_ZONE",nodesLoading:"LOADING_NODES",addNode:"ADD_NODE",addNodeLoading:"ADD_NODE_LOADING",editOrDeleteNode:"EDIT_OR_DELETE_NODE",editNodeLoading:"EDIT_NODE_LOADING",deleteNodeLoading:"DELETE_NODE_LOADING",notFound:"NODES_NOT_FOUND"},te={getMachineDataByID:"GET_MACHINE_DATA_BY_ID",machineLoading:"LOADING_MACHINE",noStoredMachineDataResponse:"NO_STORED_MACHINE_DATA_RESPONSE",notFound:"MACHINE_DETAILS_NOT_FOUND"},ne="FILTER_BY_TIME",ae="TOGGLE_ADD_FORM_DRAWER",ie="FILTER_BY_NODES_OR_MACHINES",re="TOGGLE_EDIT_FORM_DRAWER",oe="TOGGLE_EDIT_MAPPING_FORM_DRAWER",ce="TOGGLE_SIDEBAR",se="SIGNIN",le="SIGNIN_LOADING",de="SIGNIN_ERROR",ue=function(e){e({type:ae})},je=function(e,t,n){e({type:re,payload:{ID:t,name:n}})},me=function(e,t,n){e({type:oe,payload:{ID:t,name:n}})},he=function(e){e({type:ce})},be=Object(M.a)((function(e){return D()})),pe={high:m.TEAL[600],normal:m.INDIGO[600],low:m.ORANGE[600]},Oe={high:m.GREEN[600],normal:m.CYAN[600],low:m.RED[600]},fe={info1:pe,info2:Oe,status:{high:m.LIGHTGREEN[600],normal:m.INDIGO[600],low:m.PURPLE[600]},gaugeItem1:pe,gaugeItem2:Oe},ge=function(e,t,n){return e>=t.high?n.high:e>=t.low?n.normal:(t.low,n.low)},xe=Object(d.g)((function(e){var t=be(),n=Object(A.b)(),i=e.compact,o=e.data,c=o.name,s=o.ID,l=o.mapping,d=o.status,h=o.info1,O=o.info2,f=o.gaugeItem1,g=o.gaugeItem2,x=r.a.useState(null),v=Object(E.a)(x,2),_=v[0],C=v[1],D=function(){C(null)},N=function(e){return Object(a.jsx)(j.a,{variant:"caption",style:{color:ge(d.change,d.thresholds,fe.status),display:"inline-block",padding:3},children:e})},w=function(e){return Object(a.jsx)(j.a,{variant:"caption",style:{color:ge(h.change,h.thresholds,fe.info1),display:"inline-block",padding:3},children:e})},I=function(e){return Object(a.jsx)(j.a,{variant:"caption",style:{color:ge(O.change,O.thresholds,fe.info2),display:"inline-block",padding:3},children:e})},M=function(e){return Object(a.jsx)(j.a,{variant:"caption",style:{color:ge(f.value,f.thresholds,fe.gaugeItem1),display:"inline-block",padding:3},children:e})},S=function(e){return Object(a.jsx)(j.a,{variant:"caption",style:{color:ge(g.value,g.thresholds,fe.gaugeItem2),display:"inline-block",padding:3},children:e})},R=Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(u.a,{container:!0,spacing:0,justify:"center",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)("div",{style:{color:ge(d.change,d.thresholds,fe.status)},children:d.icon})}),Object(a.jsx)(u.a,{item:!0,children:N(d.name+":")}),Object(a.jsxs)(u.a,{item:!0,children:[" ",N(d.value)]})]})}),W=Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(u.a,{container:!0,spacing:0,justify:"center",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)("div",{style:{color:ge(h.change,h.thresholds,fe.info1)},children:h.icon})}),Object(a.jsx)(u.a,{item:!0,children:w(h.name+":")}),Object(a.jsx)(u.a,{item:!0,children:w(h.value)})]})}),B=Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(u.a,{container:!0,spacing:0,justify:"center",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)("div",{style:{color:ge(O.change,O.thresholds,fe.info2)},children:O.icon})}),Object(a.jsx)(u.a,{item:!0,children:I(O.name+":")}),Object(a.jsx)(u.a,{item:!0,children:I(O.value)})]})}),G=Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(u.a,{container:!0,spacing:0,justify:"center",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)("div",{style:{color:ge(f.value,f.thresholds,fe.gaugeItem1)},children:f.icon})}),Object(a.jsx)(u.a,{item:!0,children:M(f.name+":")}),Object(a.jsx)(u.a,{item:!0,children:M(f.value+f.suffix)})]})}),Z=Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(u.a,{container:!0,spacing:0,justify:"center",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)("div",{style:{color:ge(g.value,g.thresholds,fe.gaugeItem2)},children:g.icon})}),Object(a.jsx)(u.a,{item:!0,children:S(g.name+":")}),Object(a.jsx)(u.a,{item:!0,children:S(g.value+g.suffix)})]})}),P=Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(u.a,{container:!0,justify:"space-between",alignItems:"flex-start",style:{padding:5},children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",children:Object(a.jsx)(u.a,{item:!0,children:R})})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsxs)(u.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",children:[Object(a.jsx)(u.a,{item:!0,children:W}),Object(a.jsx)(u.a,{item:!0,children:B})]})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsxs)(u.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",children:[Object(a.jsx)(u.a,{item:!0,children:G}),Object(a.jsx)(u.a,{item:!0,children:Z})]})})]})});return Object(a.jsx)(b.a,{elevation:2,style:{padding:10},className:t.cardHover,children:Object(a.jsxs)(u.a,{container:!0,justify:"space-around",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,children:s?Object(a.jsx)(y.a,{title:"Open",placement:"top",children:Object(a.jsx)(p.a,{onClick:function(){var t=e.location.pathname;window.location.href=si(t,s,c)},children:Object(a.jsx)(j.a,{variant:"button",style:{color:m.BLUEGREY[600]},children:c})})}):Object(a.jsx)(p.a,{disableRipple:!0,children:Object(a.jsx)(j.a,{variant:"button",style:{color:m.BLUEGREY[600]},children:c})})}),Object(a.jsxs)(u.a,{item:!0,children:[Object(a.jsx)(y.a,{title:"Settings",placement:"top",children:Object(a.jsx)(F.a,{onClick:function(e){C(e.currentTarget)},children:Object(a.jsx)(T.a,{className:t.iconButton})})}),Object(a.jsxs)(L.a,{id:"settingsMenu",anchorEl:_,keepMounted:!0,open:Boolean(_),onClose:D,children:[Object(a.jsxs)(k.a,{onClick:function(){D(),je(n,s,c)},children:[Object(a.jsx)(q.a,{className:t.menuItemIcon}),Object(a.jsx)(j.a,{variant:"inherit",children:"Edit"})]}),l?Object(a.jsxs)(k.a,{onClick:function(){D(),me(n,s,c)},children:[Object(a.jsx)(J.a,{className:t.menuItemIcon}),Object(a.jsx)(j.a,{variant:"inherit",children:"Change Mapping"})]}):null]})]})]})}),i?null:Object(a.jsx)(u.a,{item:!0,lg:6,md:12,children:Object(a.jsx)(Y,{item1:f,item2:g,colorSets:fe})}),i?null:Object(a.jsx)(u.a,{item:!0,lg:6,md:12,children:Object(a.jsxs)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{padding:5},children:[R,W,B]})}),i?P:null]})})})),ye=Object(d.g)((function(e){var t=be(),n=Object(A.b)(),i=e.data,o=i.name,c=i.ID,s=i.mapping,l=r.a.useState(null),d=Object(E.a)(l,2),h=d[0],O=d[1],f=function(){O(null)};return Object(a.jsx)(b.a,{elevation:2,style:{padding:10},className:t.cardHover,children:Object(a.jsx)(u.a,{container:!0,justify:"space-around",alignItems:"center",children:Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,children:c?Object(a.jsx)(y.a,{title:"Open",placement:"top",children:Object(a.jsx)(p.a,{onClick:function(){var t=e.location.pathname;window.location.href=si(t,c,o)},children:Object(a.jsx)(j.a,{variant:"button",style:{color:m.BLUEGREY[600]},children:o})})}):Object(a.jsx)(p.a,{disableRipple:!0,children:Object(a.jsx)(j.a,{variant:"button",style:{color:m.BLUEGREY[600]},children:o})})}),Object(a.jsxs)(u.a,{item:!0,children:[Object(a.jsx)(y.a,{title:"Settings",placement:"top",children:Object(a.jsx)(F.a,{onClick:function(e){O(e.currentTarget)},children:Object(a.jsx)(T.a,{className:t.iconButton})})}),Object(a.jsxs)(L.a,{id:"settingsMenu",anchorEl:h,keepMounted:!0,open:Boolean(h),onClose:f,children:[Object(a.jsxs)(k.a,{onClick:function(){f(),je(n,c,o)},children:[Object(a.jsx)(q.a,{className:t.menuItemIcon}),Object(a.jsx)(j.a,{variant:"inherit",children:"Edit"})]}),s?Object(a.jsxs)(k.a,{onClick:function(){f(),me(n,c,o)},children:[Object(a.jsx)(J.a,{className:t.menuItemIcon}),Object(a.jsx)(j.a,{variant:"inherit",children:"Change Mapping"})]}):null]})]})]})})})})})),ve=Object(M.a)((function(e){return D()}));function _e(e){var t=ve(),n=e.data,i=n.icon,r=n.values;return Object(a.jsxs)(u.a,{container:!0,component:b.a,direction:"row",justify:"center",alignItems:"center",elevation:2,style:{padding:12,height:64},className:t.cardHover,children:[Object(a.jsx)(u.a,{item:!0,style:{color:r.color},xs:2,children:i}),Object(a.jsx)(u.a,{item:!0,xs:10,children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(j.a,{align:"center",variant:"body2",style:{color:m.BLUEGREY[500]},children:r.primary})}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(j.a,{align:"center",variant:"body2",style:{color:r.color},children:r.secondary})})]})})]})}var Ce=n(278),De={server:"http://115.186.183.129:37000",showMockData:!0,showDashboardSummaryCards:!0,showDashboardSummaryHeaders:!0,featureTemporarilyUnavailable:!1,navigationList:{monitoring:["monitoring","workshops","workshopName","zoneName","machineName"]},users:[{name:"kolson",password:"1234",workshopID:"6000163ba6f18b0f847ee574"},{name:"shifa",password:"5678",workshopID:"5fecdd5a7221a50e7842198b"}]},Ne=n(30),we=n.n(Ne),Ie=n(99),Me=n.n(Ie),Ee=n(100),Ae=n.n(Ee),Le=n(71),ke=n.n(Le),Se=n(72),Te=n.n(Se),Fe=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},Re={width:15},We=function(){var e=Fe(0,100),t=Fe(0,e);return{name:"Total Active",change:t,value:t+"/"+e,icon:Object(a.jsx)(we.a,{style:Re}),thresholds:{high:.66*e,low:.33*e}}},Be=function(){var e=Fe(0,80);return{name:"Temperature",change:e,value:e+"\xb0C",icon:Object(a.jsx)(Me.a,{style:Re}),thresholds:{high:80*.66,low:80*.33}}},Ge=function(){var e=Fe(0,100);return{name:"Humidity",change:e,value:e+" %RH",icon:Object(a.jsx)(Ae.a,{style:Re}),thresholds:{high:66,low:33}}},Ze=function(){return{name:"Utilization",value:Math.round(100*Math.random()),suffix:"%",thresholds:{high:66,low:33},icon:Object(a.jsx)(ke.a,{style:Re})}},Pe=function(){return{name:"Units",value:Math.round(100*Math.random()),suffix:"KWh",thresholds:{high:66,low:33},icon:Object(a.jsx)(Te.a,{style:Re})}},ze=n(156),Ue=n.n(ze),He=n(155),Ye=n.n(He),Ve=n(58),qe=function(e){if(e<=60)return"00:".concat(Ke(e,2));var t=Math.floor(e/60),n=e-60*t;return"".concat(Ke(t,2),":").concat(Ke(n,2))},Ke=function(e,t,n){return n=n||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(n)+e},Je=function(e){try{return e.reduce((function(e,t){return e+t}),0)/e.length}catch(t){return console.log(t),0}},Xe=function(e,t){var n=e-t,a=Math.floor(n/1e3/60/60/24);n-=1e3*a*60*60*24;var i=Math.floor(n/1e3/60/60);n-=1e3*i*60*60;var r=Math.floor(n/1e3/60);n-=1e3*r*60;var o=Math.floor(n/1e3);return(a>0?a+"D ":"")+(i>0?i+"H ":"")+(r>0?r+"M ":"")+(o>0?o+"S":"")},$e=function(e,t){return new Date(t).getTime()-60*e*60*1e3},Qe=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},et={width:30},tt=function(){var e={icon:Object(a.jsx)(Ye.a,{style:et}),values:{primary:"Last Updated",secondary:Xe(Qe(0,864e5),0),color:m.CYAN[700]}},t=Qe(0,100);return[e,{icon:Object(a.jsx)(Ue.a,{style:et}),values:{primary:"Currently Active",secondary:String(Qe(0,t))+"/"+String(t),color:m.BLUE[700]}},{icon:Object(a.jsx)(ke.a,{style:et}),values:{primary:"Average Utilization",secondary:String(Qe(0,100))+" %",color:m.GREEN[700]}},{icon:Object(a.jsx)(Te.a,{style:et}),values:{primary:"Unit Consumption",secondary:String(Qe(0,100))+" kWh",color:m.INDIGO[700]}},{icon:Object(a.jsx)(Me.a,{style:et}),values:{primary:"Average Temperature",secondary:String(Qe(0,100))+" \xb0C",color:m.ORANGE[700]}},{icon:Object(a.jsx)(Ae.a,{style:et}),values:{primary:"Average Humidity",secondary:String(Qe(0,100))+" %RH",color:m.PURPLE[700]}}]},nt=500;function at(e){return Object(a.jsxs)(u.a,{container:!0,spacing:2,children:[De.showDashboardSummaryHeaders?Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,spacing:2,children:tt().map((function(e,t){return Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:nt+t*nt}),{},{children:Object(a.jsx)(u.a,{item:!0,lg:2,md:4,sm:6,xs:12,children:Object(a.jsx)(_e,{data:e})},t)}),t)}))})}):null,Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,children:e.allWorkshops.map((function(e,t){return Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:nt+t*nt}),{},{children:Object(a.jsx)(u.a,{item:!0,lg:3,md:4,sm:12,children:De.showDashboardSummaryCards?Object(a.jsx)(xe,{data:{name:e.name,ID:e._id,mapping:!1,status:We(),info1:Be(),info2:Ge(),gaugeItem1:Ze(),gaugeItem2:Pe()}}):Object(a.jsx)(ye,{data:{name:e.name,ID:e._id,mapping:!1}})},t)}),t)}))})})]})}var it=n(329),rt=n(318),ot=n(157),ct=n.n(ot),st=n(125),lt=n(101),dt=n.n(lt),ut={link:{display:"flex"},icon:{width:20,height:20},paper:{paddingLeft:10,paddingRight:10}},jt=function(e,t){e.preventDefault(),window.location.href=t},mt=Object(d.g)((function(e){var t=e.list,n=e.location.pathname,i=e.match.params,r=t.map((function(e){return i[e]?i[e].split("_").join(" ").split("-").join(" "):e})),o=n.split("/").filter((function(e){return e})),c=n,s=o.map((function(e){var t=c;return c=function(e){var t=e.split("/").filter((function(e){return e}));return e.replace(t.slice(-1).pop(),"").replace(/\/+$/g,"")}(c),t})).filter((function(e){return e}));s.reverse();var l=s.map((function(e,t){return t===s.length-1?Object(a.jsx)(y.a,{title:"Current page",placement:"top",children:Object(a.jsx)(j.a,{variant:"overline",style:{color:m.TEAL[800]},children:r[t]},t)},t):0===t?Object(a.jsx)(rt.a,{color:"inherit",onClick:function(t){return jt(t,e)},style:ut.link,children:Object(a.jsx)(y.a,{title:"Go to "+r[t].toLowerCase(),placement:"top",children:Object(a.jsx)(st.a,{children:Object(a.jsx)(dt.a,{style:ut.icon})})},t)},t):Object(a.jsx)(rt.a,{color:"inherit",onClick:function(t){return jt(t,e)},children:Object(a.jsx)(y.a,{title:"Go to "+r[t].toLowerCase(),placement:"top",children:Object(a.jsx)(st.a,{children:Object(a.jsx)(j.a,{variant:"overline",children:r[t]})})},t)},t)}));return Object(a.jsx)(b.a,{elevation:2,style:ut.paper,children:Object(a.jsx)(it.a,{separator:Object(a.jsx)(ct.a,{fontSize:"small",style:{color:m.TEAL[700]}}),children:l})})})),ht=function(e){return!(void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length||typeof e instanceof Array&&0===e.length)},bt={name:""},pt={id:"",name:""},Ot={id:""},ft={name:"",workshop_id:"",min_temperature:0,max_temperature:100,min_humidity:0,max_humidity:100},gt={id:"",name:""},xt={id:""},yt={name:"",idle_threshold:"",max_load:"",sensor_voltage_scalar:0},vt={machine_id:"",node_id:"",sensor_number:0},_t={id:""},Ct={id:""},Dt={mac:"",sensor_1_rating:null,sensor_2_rating:null},Nt={id:""},wt={id:""},It=n(22),Mt=n.n(It),Et=function(e,t,n){e.response?(console.log("The request was made and the server responded with a status code !== 2xx",e.response),500===e.response.status?t({type:e.response.status}):404===e.response.status&&t({type:n.notFound})):e.request?console.log("The request was made but no response was received",e.request):e.message&&console.log("Something happened in setting up the request that triggered an Error",e.message),console.log("error.config:",e.config)},At=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},Lt="Machine-",kt="Zone-",St={getAllWorkshops:[{_id:"6000163ba6f18b0f847ee574",name:"Workshop-0",__v:0},{_id:"6000163ba6f18b0f847ee574",name:"Workshop-1",__v:0},{_id:"6000163ba6f18b0f847ee574",name:"Workshop-2",__v:0},{_id:"6000163ba6f18b0f847ee574",name:"Workshop-3",__v:0},{_id:"6000163ba6f18b0f847ee574",name:"Workshop-4",__v:0},{_id:"6000163ba6f18b0f847ee574",name:"Workshop-5",__v:0},{_id:"6000163ba6f18b0f847ee574",name:"Workshop-6",__v:0},{_id:"6000163ba6f18b0f847ee574",name:"Workshop-7",__v:0}],getAllZones:[{_id:"5fdb233b3edf4e2a3889fe36",name:kt+At(0,100),workshop_id:"5fdb23113edf4e2a3889fe35",__v:0},{_id:"5fdb233b3edf4e2a3889fe36",name:kt+At(0,100),workshop_id:"5fdf356185790c04ec5d4310",__v:0},{_id:"5fdb233b3edf4e2a3889fe36",name:kt+At(0,100),workshop_id:"5fdf356185790c04ec5d4310",__v:0},{_id:"5fdb233b3edf4e2a3889fe36",name:kt+At(0,100),workshop_id:"5fdf356185790c04ec5d4310",__v:0},{_id:"5fdb233b3edf4e2a3889fe36",name:kt+At(0,100),workshop_id:"5fdb23113edf4e2a3889fe35",__v:0},{_id:"5fdb233b3edf4e2a3889fe36",name:kt+At(0,100),workshop_id:"5fdf356185790c04ec5d4310",__v:0},{_id:"5fdb233b3edf4e2a3889fe36",name:kt+At(0,100),workshop_id:"5fdf356185790c04ec5d4310",__v:0},{_id:"5fdb233b3edf4e2a3889fe36",name:kt+At(0,100),workshop_id:"5fdf356185790c04ec5d4310",__v:0}],getAllMachines:[{_id:"5fdb23ee3edf4e2a3889fe48",name:"Air-Compressor-"+At(0,100),idle_threshold:At(0,20),max_load:At(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),idle_threshold:At(0,20),max_load:At(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),idle_threshold:At(0,20),max_load:At(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),idle_threshold:At(0,20),max_load:At(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),idle_threshold:At(0,20),max_load:At(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),idle_threshold:At(0,20),max_load:At(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),idle_threshold:At(0,20),max_load:At(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),idle_threshold:At(0,20),max_load:At(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),idle_threshold:At(0,20),max_load:At(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),idle_threshold:At(0,20),max_load:At(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),idle_threshold:At(0,20),max_load:At(20,100),sensor_voltage_scalar:0,__v:0},{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),idle_threshold:At(0,20),max_load:At(20,100),sensor_voltage_scalar:0,__v:0}],getAllMachineMappings:[{_id:"5fdb240f3edf4e2a3889fe4f",machine_id:"5fdb23ee3edf4e2a3889fe48",node_id:"5fdb237e3edf4e2a3889fe37",sensor_number:1,__v:0},{_id:"5fdb240f3edf4e2a3889fe4f",machine_id:"5fdb23ee3edf4e2a3889fe48",node_id:"5fdb237e3edf4e2a3889fe37",sensor_number:1,__v:0},{_id:"5fdb240f3edf4e2a3889fe4f",machine_id:"5fdb23ee3edf4e2a3889fe48",node_id:"5fdb237e3edf4e2a3889fe37",sensor_number:1,__v:0}],getAllNodeToMachineMappingInAZone:{"70:B3:D5:FE:4C:00":[{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),Sensor_Number:1},{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),Sensor_Number:2}],"70:B3:D5:FE:4C:01":[{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),Sensor_Number:1},{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),Sensor_Number:2}],"70:B3:D5:FE:4C:02":[{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),Sensor_Number:1},{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),Sensor_Number:2}],"70:B3:D5:FE:4C:03":[{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),Sensor_Number:1}],"70:B3:D5:FE:4C:04":[{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),Sensor_Number:2}],"70:B3:D5:FE:4C:05":[{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),Sensor_Number:2}],"70:B3:D5:FE:4C:06":[{_id:"5fdb23ee3edf4e2a3889fe48",name:Lt+At(0,100),Sensor_Number:1}],"70:B3:D5:FE:4C:07":[]},getAllNodes:[{_id:"5fdb237e3edf4e2a3889fe37",mac:"70:B3:D5:FE:4C:00",sensor_1_rating:60,sensor_2_rating:0,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fdf35a085790c04ec5d4338",mac:"70:B3:D5:FE:4C:01",sensor_1_rating:50,sensor_2_rating:50,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fe475695163c82ed4f57e39",mac:"70:B3:D5:FE:4C:02",sensor_1_rating:30,sensor_2_rating:0,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fdb237e3edf4e2a3889fe40",mac:"70:B3:D5:FE:4C:03",sensor_1_rating:60,sensor_2_rating:0,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fdf35a085790c04ec5d4341",mac:"70:B3:D5:FE:4C:04",sensor_1_rating:50,sensor_2_rating:50,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fe475695163c82ed4f57e42",mac:"70:B3:D5:FE:4C:05",sensor_1_rating:30,sensor_2_rating:0,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fdb237e3edf4e2a3889fe43",mac:"70:B3:D5:FE:4C:06",sensor_1_rating:60,sensor_2_rating:0,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fdf35a085790c04ec5d4344",mac:"70:B3:D5:FE:4C:07",sensor_1_rating:50,sensor_2_rating:50,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fe475695163c82ed4f57e45",mac:"70:B3:D5:FE:4C:08",sensor_1_rating:30,sensor_2_rating:0,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fdb237e3edf4e2a3889fe46",mac:"70:B3:D5:FE:4C:09",sensor_1_rating:60,sensor_2_rating:0,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fdf35a085790c04ec5d4347",mac:"70:B3:D5:FE:4C:10",sensor_1_rating:50,sensor_2_rating:50,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0},{_id:"5fe475695163c82ed4f57e48",mac:"70:B3:D5:FE:4C:11",sensor_1_rating:30,sensor_2_rating:0,min_temperature:10,max_temperature:60,min_humidity:0,max_humidity:100,__v:0}]},Tt=2e3,Ft=n(327),Rt=n(320),Wt=n(330),Bt=n(321),Gt=n(158),Zt=n.n(Gt),Pt=n(319);function zt(e){var t=e.disableAnimation?0:200;return Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:t}),{},{children:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:1,component:b.a,elevation:2,style:{backgroundColor:m.BLUE[600],color:"white",padding:10},children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(Zt.a,{style:{paddingTop:4}})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(j.a,{variant:"body1",align:"center",children:e.message})})]})})}))}var Ut=function(e){return Object(a.jsx)(Pt.a,{open:e.open,onClose:function(t){return e.onClose()},PaperProps:{elevation:0,style:{backgroundColor:"rgb(0,0,0,0)"}},children:Object(a.jsx)("div",{style:{padding:20},children:Object(a.jsx)(zt,{message:e.message,disableAnimation:!0})})})},Ht=Object(M.a)((function(e){return N(e)})),Yt=function(e){var t=Object(A.b)(),n=Ht(),r=Object(A.c)((function(e){return e.common.toggleAddFormDrawer})),o=Object(A.c)((function(e){return e.workshops.addWorkshopResponse})),c=Object(A.c)((function(e){return e.workshops.addWorkshopLoading})),l=Object(i.useState)({}),d=Object(E.a)(l,2),u=d[0],m=d[1],h=Object(i.useState)({}),b=Object(E.a)(h,2),O=b[0],f=b[1],g=Object(i.useState)(!1),x=Object(E.a)(g,2),y=x[0],_=x[1],C=function(){m({}),f({}),_(!1)},D=function(e){m(Object(s.a)(Object(s.a)({},u),{},Object(v.a)({},e.target.id,e.target.value)))},N=function(e){if(e.preventDefault(),u.name&&ht(u.name)){var n=bt;n.name=u.name,function(e,t){e({type:X.addWorkshopLoading});var n=JSON.stringify(t),a={method:"post",url:De.server+"/Workshop",headers:{"Content-Type":"application/json"},data:n};De.showMockData?setTimeout((function(){e({type:X.addWorkshop,payload:{response:Math.random()+1}})}),Tt):Mt()(a).then((function(t){200!==t.status&&201!==t.status||e({type:X.addWorkshop,payload:{response:Math.random()+1}})})).catch((function(t){return Et(t,e,X)}))}(t,n)}else f(Object(s.a)(Object(s.a)({},O),{},{name:"Name is required."}))},w=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(C(),ue(t))};return Object(i.useEffect)((function(){o>0&&_(!0)}),[o]),Object(i.useEffect)((function(){y&&setTimeout((function(){ue(t),C(),window.location.href=e.url}),2e3)}),[y,t,e]),De.featureTemporarilyUnavailable?Object(a.jsx)(Ut,{open:r,message:"This feature is temporarily unavailable.",onClose:function(e){return ue(t)}}):Object(a.jsx)(Wt.a,{open:r,anchor:"right",onClose:function(e){return w()},children:Object(a.jsx)(Rt.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:n.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Add"}),Object(a.jsxs)("form",{noValidate:!0,className:n.form,onSubmit:function(e){return e.preventDefault()},children:[y?Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(we.a,{}),fullWidth:!0,className:n.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsx)(Ft.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",placeholder:O.name,color:O.name?"secondary":"primary",onKeyPress:function(e){return D(e)},onChange:function(e){return D(e)},autoComplete:"off",focused:!0}),c?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(Bt.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submit,onClick:function(e){return N(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:n.submit,onClick:function(e){return w()},children:"Cancel"})]})]})})})},Vt=Object(M.a)((function(e){return N(e)})),qt=function(e){var t=Object(A.b)(),n=Vt(),r=Object(A.c)((function(e){return e.common.toggleEditFormDrawer})),o=Object(A.c)((function(e){return e.workshops.editWorkshopResponse})),c=Object(A.c)((function(e){return e.workshops.editWorkshopLoading})),l=Object(A.c)((function(e){return e.workshops.deleteWorkshopLoading})),d=Object(i.useState)({}),u=Object(E.a)(d,2),m=u[0],h=u[1],b=Object(i.useState)({}),O=Object(E.a)(b,2),f=O[0],g=O[1],x=Object(i.useState)(!1),y=Object(E.a)(x,2),_=y[0],C=y[1],D=function(){h({}),g({}),C(!1)},N=function(e){h(Object(s.a)(Object(s.a)({},m),{},Object(v.a)({},e.target.id,e.target.value)))},w=function(e){if(e.preventDefault(),m.name&&ht(m.name)){var n=pt;n.id=r.ID,n.name=m.name,function(e,t){e({type:X.editWorkshopLoading});var n=JSON.stringify(t),a={method:"patch",url:De.server+"/Workshop",headers:{"Content-Type":"application/json"},data:n};De.showMockData?setTimeout((function(){e({type:X.editOrDeleteWorkshop,payload:{response:Math.random()+1}})}),Tt):Mt()(a).then((function(t){200!==t.status&&201!==t.status||e({type:X.editOrDeleteWorkshop,payload:{response:Math.random()+1}})})).catch((function(t){return Et(t,e,X)}))}(t,n)}else g(Object(s.a)(Object(s.a)({},f),{},{name:"Name is required."}))},I=function(e){if(e.preventDefault(),window.confirm("Are you sure you want to delete this item?")){var n=Ot;n.id=r.ID,function(e,t){e({type:X.deleteWorkshopLoading});var n=JSON.stringify(t),a={method:"delete",url:De.server+"/Workshop",headers:{"Content-Type":"application/json"},data:n};De.showMockData?setTimeout((function(){e({type:X.editOrDeleteWorkshop,payload:{response:Math.random()+1}})}),Tt):Mt()(a).then((function(t){200!==t.status&&201!==t.status||e({type:X.editOrDeleteWorkshop,payload:{response:Math.random()+1}})})).catch((function(t){return Et(t,e,X)}))}(t,n)}},M=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(D(),je(t))};return Object(i.useEffect)((function(){o>0&&C(!0)}),[o]),Object(i.useEffect)((function(){_&&setTimeout((function(){je(t),D(),window.location.href=e.url}),2e3)}),[_,t,e]),De.featureTemporarilyUnavailable?Object(a.jsx)(Ut,{open:r.open,message:"This feature is temporarily unavailable.",onClose:function(e){return je(t)}}):Object(a.jsx)(Wt.a,{open:r.open,anchor:"right",onClose:function(e){return M()},children:Object(a.jsx)(Rt.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:n.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Edit"}),Object(a.jsxs)("form",{className:n.form,noValidate:!0,onSubmit:function(e){return e.preventDefault()},children:[_?Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(we.a,{}),fullWidth:!0,className:n.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsx)(Ft.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",placeholder:f.name?f.name:r.name,color:f.name?"secondary":"primary",onKeyPress:function(e){return N(e)},onChange:function(e){return N(e)},autoComplete:"off",focused:!0}),c?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(Bt.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submit,onClick:function(e){return w(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:n.submit,onClick:function(e){return M()},children:"Cancel"}),Object(a.jsx)("hr",{className:n.divider}),l?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"secondary",className:n.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(Bt.a,{color:"secondary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:n.submit,color:"secondary",onClick:function(e){return I(e)},children:"Delete"})]})]})})})},Kt=n(102),Jt=n.n(Kt);function Xt(){return Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"50vh"},children:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(Jt.a,{type:"Bars",height:50,width:50,color:m.TEAL[500]})})})})}var $t=Object(M.a)((function(e){return D()})),Qt=function(e){var t=$t(),n=Object(A.b)(),r=Object(A.c)((function(e){return e.workshops.allWorkshops})),o=Object(A.c)((function(e){return e.auth.user})),c=Object(A.c)((function(e){return e.workshops.workshopsLoading}));Object(i.useEffect)((function(){!function(e,t){e({type:X.workshopsLoading});var n={method:"get",url:De.server+"/workshops",headers:{}};De.showMockData?setTimeout((function(){e({type:X.getAllWorkshops,payload:St.getAllWorkshops})}),Tt):Mt()(n).then((function(n){var a=n.data;if(ht(a)){var i=n.data.filter((function(e){return e})),r=De.users.map((function(e){return e.name===t?e:null}));r=r.filter((function(e){return e})).pop();var o=i.map((function(e){return e._id===r.workshopID?e:null}));o=o.filter((function(e){return e})),e({type:X.getAllWorkshops,payload:o})}else console.log("error: unexpected response",a)})).catch((function(t){return Et(t,e,X)}))}(n,o)}),[n,o]);var s=Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:0,children:[Object(a.jsx)(u.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(mt,{list:De.navigationList.monitoring})})})}),Object(a.jsx)(u.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center",children:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(y.a,{placement:"top",title:"Add",children:Object(a.jsx)(p.a,{className:t.button,variant:"contained",onClick:function(e){return ue(n)},children:Object(a.jsx)(x.a,{className:t.iconInsideButton,style:{color:m.TEAL[700]}})})})})})})]}),l=ht(r)||c?null:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(u.a,{container:!0,justify:"center",alignItems:"center",style:{height:"70vh"},spacing:4,children:Object(a.jsx)(zt,{message:"No workshops have been added yet."})})});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:s}),Object(a.jsx)(u.a,{item:!0,xs:12,children:c?Object(a.jsx)(Xt,{}):Object(a.jsx)(at,{allWorkshops:r})}),l]}),Object(a.jsx)(Yt,{url:e.match.url,params:e.match.params}),Object(a.jsx)(qt,{url:e.match.url,params:e.match.params})]})},en=500;function tn(e){return Object(a.jsxs)(u.a,{container:!0,spacing:2,children:[De.showDashboardSummaryHeaders?Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,spacing:2,children:tt().map((function(e,t){return Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:en+t*en}),{},{children:Object(a.jsx)(u.a,{item:!0,lg:2,md:4,sm:6,xs:12,children:Object(a.jsx)(_e,{data:e})},t)}),t)}))})}):null,Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,children:e.allZonesInAWorkshop.map((function(e,t){return Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:en+t*en}),{},{children:Object(a.jsx)(u.a,{item:!0,lg:3,md:4,sm:12,children:De.showDashboardSummaryCards?Object(a.jsx)(xe,{data:{name:e.name,ID:e._id,mapping:!1,status:We(),info1:Be(),info2:Ge(),gaugeItem1:Ze(),gaugeItem2:Pe()}}):Object(a.jsx)(ye,{data:{name:e.name,ID:e._id,mapping:!1}})},t)}),t)}))})})]})}var nn=2e3,an=Object(M.a)((function(e){return N(e)})),rn=function(e){var t=Object(A.b)(),n=an(),r=Object(A.c)((function(e){return e.common.toggleAddFormDrawer})),o=Object(A.c)((function(e){return e.zones.addZoneResponse})),c=Object(A.c)((function(e){return e.zones.addZoneLoading})),l=Object(i.useState)({}),d=Object(E.a)(l,2),u=d[0],m=d[1],h=Object(i.useState)({}),b=Object(E.a)(h,2),O=b[0],f=b[1],g=Object(i.useState)(!1),x=Object(E.a)(g,2),y=x[0],_=x[1],C=function(){m({}),f({}),_(!1)},D=function(e){m(Object(s.a)(Object(s.a)({},u),{},Object(v.a)({},e.target.id,e.target.value)))},N=function(n){if(n.preventDefault(),u.name&&ht(u.name)){var a=ft;a.name=u.name,a.workshop_id=e.params.workshopID,function(e,t){e({type:$.addZoneLoading});var n=JSON.stringify(t),a={method:"post",url:De.server+"/Zone",headers:{"Content-Type":"application/json"},data:n};De.showMockData?setTimeout((function(){e({type:$.addZone,payload:{response:Math.random()+1}})}),nn):Mt()(a).then((function(t){200!==t.status&&201!==t.status||e({type:$.addZone,payload:{response:Math.random()+1}})})).catch((function(t){return Et(t,e,$)}))}(t,a)}else f(Object(s.a)(Object(s.a)({},O),{},{name:"Name is required."}))},w=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(C(),ue(t))};return Object(i.useEffect)((function(){o>0&&_(!0)}),[o]),Object(i.useEffect)((function(){y&&setTimeout((function(){ue(t),C(),window.location.href=e.url}),2e3)}),[y,t,e]),Object(a.jsx)(Wt.a,{open:r,anchor:"right",onClose:function(e){return w()},children:Object(a.jsx)(Rt.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:n.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Add"}),Object(a.jsxs)("form",{noValidate:!0,className:n.form,onSubmit:function(e){return e.preventDefault()},children:[y?Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(we.a,{}),fullWidth:!0,className:n.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsx)(Ft.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",placeholder:O.name,color:O.name?"secondary":"primary",onKeyPress:function(e){return D(e)},onChange:function(e){return D(e)},autoComplete:"off",focused:!0}),c?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(Bt.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submit,onClick:function(e){return N(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:n.submit,onClick:function(e){return w()},children:"Cancel"})]})]})})})},on=Object(M.a)((function(e){return N(e)})),cn=function(e){var t=Object(A.b)(),n=on(),r=Object(A.c)((function(e){return e.common.toggleEditFormDrawer})),o=Object(A.c)((function(e){return e.zones.editZoneResponse})),c=Object(A.c)((function(e){return e.zones.editZoneLoading})),l=Object(A.c)((function(e){return e.zones.deleteZoneLoading})),d=Object(i.useState)({}),u=Object(E.a)(d,2),m=u[0],h=u[1],b=Object(i.useState)({}),O=Object(E.a)(b,2),f=O[0],g=O[1],x=Object(i.useState)(!1),y=Object(E.a)(x,2),_=y[0],C=y[1],D=function(){h({}),g({}),C(!1)},N=function(e){h(Object(s.a)(Object(s.a)({},m),{},Object(v.a)({},e.target.id,e.target.value)))},w=function(e){if(e.preventDefault(),m.name&&ht(m.name)){var n=gt;n.id=r.ID,n.name=m.name,function(e,t){e({type:$.editZoneLoading});var n=JSON.stringify(t),a={method:"patch",url:De.server+"/Zone",headers:{"Content-Type":"application/json"},data:n};De.showMockData?setTimeout((function(){e({type:$.editOrDeleteZone,payload:{response:Math.random()+1}})}),nn):Mt()(a).then((function(t){200!==t.status&&201!==t.status||e({type:$.editOrDeleteZone,payload:{response:Math.random()+1}})})).catch((function(t){return Et(t,e,$)}))}(t,n)}else g(Object(s.a)(Object(s.a)({},f),{},{name:"Name is required."}))},I=function(e){if(e.preventDefault(),window.confirm("Are you sure you want to delete this item?")){var n=xt;n.id=r.ID,function(e,t){e({type:$.deleteZoneLoading});var n=JSON.stringify(t),a={method:"delete",url:De.server+"/Zone",headers:{"Content-Type":"application/json"},data:n};De.showMockData?setTimeout((function(){e({type:$.editOrDeleteZone,payload:{response:Math.random()+1}})}),nn):Mt()(a).then((function(t){200!==t.status&&201!==t.status||e({type:$.editOrDeleteZone,payload:{response:Math.random()+1}})})).catch((function(t){return Et(t,e,$)}))}(t,n)}},M=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(D(),je(t))};return Object(i.useEffect)((function(){o>0&&C(!0)}),[o]),Object(i.useEffect)((function(){_&&setTimeout((function(){je(t),D(),window.location.href=e.url}),2e3)}),[_,t,e]),Object(a.jsx)(Wt.a,{open:r.open,anchor:"right",onClose:function(e){return M()},children:Object(a.jsx)(Rt.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:n.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Edit"}),Object(a.jsxs)("form",{className:n.form,noValidate:!0,onSubmit:function(e){return e.preventDefault()},children:[_?Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(we.a,{}),fullWidth:!0,className:n.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsx)(Ft.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",placeholder:f.name?f.name:r.name,color:f.name?"secondary":"primary",onKeyPress:function(e){return N(e)},onChange:function(e){return N(e)},autoComplete:"off",focused:!0}),c?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(Bt.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:n.submit,onClick:function(e){return w(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:n.submit,onClick:function(e){return M()},children:"Cancel"}),Object(a.jsx)("hr",{className:n.divider}),l?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"secondary",className:n.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(Bt.a,{color:"secondary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:n.submit,color:"secondary",onClick:function(e){return I(e)},children:"Delete"})]})]})})})},sn=Object(M.a)((function(e){return D()})),ln=function(e){var t=sn(),n=Object(A.b)(),r=Object(A.c)((function(e){return e.zones.allZonesInAWorkshop})),o=Object(A.c)((function(e){return e.zones.zonesLoading}));Object(i.useEffect)((function(){!function(e,t){e({type:$.zonesLoading});var n={method:"get",url:De.server+"/zones",headers:{}};De.showMockData?setTimeout((function(){e({type:$.getAllZonesInAWorkshop,payload:{allZonesInAWorkshop:St.getAllZones,workshopID:t}})}),nn):Mt()(n).then((function(n){if(ht(n.data)){var a=n.data.filter((function(e){return e})).map((function(e){return e.workshop_id===t?e:null}));ht(a)?(a=a.filter((function(e){return e})),e({type:$.getAllZonesInAWorkshop,payload:{allZonesInAWorkshop:a,workshopID:t}})):console.log("error: unexpected response",a)}else console.log("error: unexpected response",n.data)})).catch((function(t){return Et(t,e,$)}))}(n,e.match.params.workshopID)}),[n,e]);var c=Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:0,children:[Object(a.jsx)(u.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(mt,{list:De.navigationList.monitoring})})})}),Object(a.jsx)(u.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center",children:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(y.a,{placement:"top",title:"Add",children:Object(a.jsx)(p.a,{className:t.button,variant:"contained",onClick:function(e){return ue(n)},children:Object(a.jsx)(x.a,{className:t.iconInsideButton,style:{color:m.TEAL[700]}})})})})})})]}),s=ht(r)||o?null:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(u.a,{container:!0,justify:"center",alignItems:"center",style:{height:"70vh"},spacing:4,children:Object(a.jsx)(zt,{message:"No zones have been added yet."})})});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:c}),Object(a.jsx)(u.a,{item:!0,xs:12,children:o?Object(a.jsx)(Xt,{}):Object(a.jsx)(tn,{allZonesInAWorkshop:r})}),s]}),Object(a.jsx)(rn,{url:e.match.url,params:e.match.params}),Object(a.jsx)(cn,{url:e.match.url,params:e.match.params})]})},dn=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},un=dn(20,100),jn=function(e){switch(dn(0,2)){case 0:return"OFF";case 1:return"IDLE";case 2:return"ON";default:return"OFF"}},mn=function(){for(var e=[],t=576;t>=1;t--){var n=Date.now()+0,a=String(new Date(n-3e5*t)),i=dn(0,un),r=jn(),o=dn(0,86400),c=dn(0,80),s=dn(0,100);e.push({load_current:i,status:r,machine_state_duration:o,temperature:c,humidity:s,timestamp:a})}return e},hn=n(163),bn=n.n(hn),pn=n(322),On=n(276),fn=n(316),gn=Object(M.a)((function(e){return D()})),xn=["Disabled"];function yn(e){var t=Object(A.b)(),n=e.options,o=e.selected,c=e.icon,l=gn(),d=r.a.useState(!1),u=Object(E.a)(d,2),m=u[0],h=u[1],O=r.a.useRef(null),f=r.a.useState(n||xn),g=Object(E.a)(f,1)[0],x=r.a.useState(o||xn[0]),y=Object(E.a)(x,2),v=y[0],_=y[1],C=function(e,t){O.current&&O.current.contains(e.target)||(h(!1),t&&_(t))};function D(e){"Tab"===e.key&&(e.preventDefault(),h(!1))}var N=r.a.useRef(m);return Object(i.useEffect)((function(){!0===N.current&&!1===m&&O.current.focus(),N.current=m}),[m]),Object(i.useEffect)((function(){switch(e.type){case ie:!function(e,t){e({type:ie,payload:{machinesOrNodesFilter:t}})}(t,v);break;case ne:!function(e,t){e({type:ne,payload:{timeFilter:t}})}(t,v)}}),[v,t,e]),Object(a.jsxs)("span",{children:[Object(a.jsxs)(p.a,{ref:O,"aria-controls":m?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){h((function(e){return!e}))},className:l.button,variant:"contained",children:[c||null,Object(a.jsx)(j.a,{variant:"caption",children:v})]}),Object(a.jsx)(On.a,{open:m,anchorEl:O.current,role:void 0,transition:!0,disablePortal:!0,className:l.popper,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(a.jsx)(b.a,{children:Object(a.jsx)(pn.a,{onClickAway:function(e){return C(e,null)},children:Object(a.jsx)(fn.a,{autoFocusItem:m,id:"menu-list-grow",onKeyDown:D,children:g.map((function(e,t){return Object(a.jsx)(k.a,{onClick:function(t){return C(t,e)},children:Object(a.jsx)(j.a,{variant:"overline",children:e})},t)}))})})})}))}})]})}var vn=Object(M.a)((function(e){return D()}));function _n(e){var t=e.data,n=t.icon,i=t.values,r=vn();return Object(a.jsxs)(u.a,{container:!0,component:b.a,direction:"row",justify:"center",alignItems:"center",elevation:2,style:{padding:3},className:r.cardHover,children:[Object(a.jsx)(u.a,{item:!0,xs:2,children:Object(a.jsx)(b.a,{style:I.iconPaper,elevation:0,children:n})}),Object(a.jsx)(u.a,{item:!0,xs:10,children:Object(a.jsx)(b.a,{style:I.textPaper,elevation:0,children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,xs:"auto",children:Object(a.jsx)(j.a,{align:"center",variant:"button",children:i.primary})}),Object(a.jsx)(u.a,{item:!0,xs:"auto",children:Object(a.jsx)(j.a,{align:"center",variant:"body2",style:{color:m.BLUEGREY[600]},children:i.secondary})})]})})})]})}var Cn=n(159),Dn=n.n(Cn),Nn=function(e){var t=e.data,n=t.timeSinceLastUpdate,i=t.liveData,r=null!==i?Object(a.jsx)(Jt.a,{type:"Bars",height:20,color:m.TEAL[700]}):Object(a.jsx)(Dn.a,{style:{width:20,color:m.TEAL[700]}}),o=Object(a.jsx)(j.a,{align:"center",variant:"body2",style:{color:m.BLUEGREY[600]},children:null!==i?"Receiving Real-time Updates...":"Last Updated: "}),c=Object(a.jsx)(j.a,{align:"center",variant:"body2",style:{color:m.BLUEGREY[800]},children:null!==i?null:n});return Object(a.jsx)(y.a,{placement:"top",title:n,children:Object(a.jsxs)(u.a,{container:!0,component:b.a,direction:"row",justify:"center",alignItems:"center",elevation:2,style:{padding:3},children:[Object(a.jsx)(u.a,{item:!0,xs:2,children:Object(a.jsx)(b.a,{style:I.iconPaper,elevation:0,children:r})}),Object(a.jsx)(u.a,{item:!0,xs:10,children:Object(a.jsx)(b.a,{style:I.textPaper,elevation:0,children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:"auto",children:o}),Object(a.jsx)(u.a,{item:!0,xs:"auto",children:c})]})})})]})})},wn=n(104),In=n.n(wn),Mn=n(103),En=n.n(Mn),An=n(85),Ln=n.n(An),kn=n(161),Sn=n.n(kn),Tn=n(160),Fn=n.n(Tn);function Rn(e){var t=e.data,n=t.liveData,i=t.timeSinceLastUpdate,r=t.currentNow,o=t.lastUpdateTimestamp,c=t.stateNow,l=t.stateNowDuration,d=t.unitsConsumed,j=t.timeFilter,h={liveData:n,timeSinceLastUpdate:i},b={icon:"ON"===c?Object(a.jsx)(En.a,{style:{color:m.GREEN[700],height:20}}):"IDLE"===c?Object(a.jsx)(In.a,{style:{color:m.TEAL[700],height:20}}):Object(a.jsx)(Ln.a,{style:{color:m.RED[700],height:20}}),values:{primary:c,secondary:l}},p={icon:Object(a.jsx)(Fn.a,{size:"small",style:{color:m.INDIGO[700],height:20}}),values:{primary:r+" A",secondary:o}},O={icon:Object(a.jsx)(Sn.a,{size:"small",style:{color:m.PURPLE[700],height:20}}),values:{primary:d+" kwh",secondary:j}};return Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(u.a,{item:!0,md:3,xs:12,children:Object(a.jsx)(Nn,{data:h})})})),Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:1e3}),{},{children:Object(a.jsx)(u.a,{item:!0,md:3,xs:12,children:Object(a.jsx)(_n,{data:b})})})),Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:2e3}),{},{children:Object(a.jsx)(u.a,{item:!0,md:3,xs:12,children:Object(a.jsx)(_n,{data:p})})})),Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:2500}),{},{children:Object(a.jsx)(u.a,{item:!0,md:3,xs:12,children:Object(a.jsx)(_n,{data:O})})}))]})}P()(W.a),G()(W.a);var Wn={high:5,normal:4,low:2},Bn=function(e){var t,n,a,i,r=(t=e.value,n=e.thresholds,a=Wn,t>=n.high?a.high:t>=n.low?a.normal:t<n.low?a.low:R.color.low);return{chart:{type:"solidgauge",height:130,width:130},title:{text:null},tooltip:{enabled:!1},credits:{enabled:!1},exporting:{enabled:!1},pane:{startAngle:0,endAngle:360,background:{outerRadius:110,innerRadius:0,backgroundColor:"none",borderWidth:0}},yAxis:[{min:0,lineWidth:0,tickPositions:[]}],plotOptions:{solidgauge:{linecap:"round",rounded:!0}},series:[(i=r,{data:[{color:W.a.color(W.a.getOptions().colors[i]).setOpacity(.2).get(),radius:110,innerRadius:85,y:100}],dataLabels:{enabled:!1},enableMouseTracking:!1}),{data:[{color:W.a.getOptions().colors[r],radius:110,innerRadius:85,y:e.value}],dataLabels:{enabled:!0,y:-12,format:"{y} "+e.suffix,borderWidth:0,backgroundColor:"none",color:W.a.getOptions().colors[r],shadow:!1,style:{textOutline:"none"}},enableMouseTracking:!0}]}},Gn=function(e){var t=e.item1,n=Object(i.useState)(Bn(t)),r=Object(E.a)(n,1)[0];return Object(a.jsx)(U.a,{highcharts:W.a,options:r})},Zn=n(106),Pn=n.n(Zn),zn=n(105),Un=n.n(zn),Hn=Object(M.a)((function(e){return D()})),Yn={high:m.RED[700],normal:m.INDIGO[700],low:m.GREEN[700]},Vn=function(e,t,n){return e>=t.high?n.high:e>=t.low?n.normal:(t.low,n.low)},qn={height:15,paddingTop:5};function Kn(e){var t=Hn(),n=e.data,i=n.title,r=n.gaugeValue,o=n.gaugeUnit,c=n.thresholds,s=n.maxTitle,l=n.maxValue,d=n.minTitle,h=n.minValue,p={value:r,suffix:o,thresholds:c},O=function(e,t,n,i){return Object(a.jsxs)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-start",children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(j.a,{variant:"caption",style:{color:m.BLUEGREY[600]},align:"left",children:e})}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(j.a,{variant:"body2",align:"left",style:{color:n},children:t})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(j.a,{variant:"body2",align:"left",style:{color:n},children:i})})]})})]})};return Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",component:b.a,elevation:2,style:{paddingTop:10},className:t.cardHover,children:[Object(a.jsx)(u.a,{item:!0,xs:7,children:Object(a.jsxs)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(j.a,{variant:"body2",style:{color:m.BLUEGREY[600]},align:"center",children:i})}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(Gn,{item1:p})})]})}),Object(a.jsx)(u.a,{item:!0,xs:5,children:Object(a.jsxs)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-start",spacing:2,style:{paddingLeft:15,paddingTop:15},children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:O(s,l,Vn(l,c,Yn),Object(a.jsx)(Un.a,{style:qn}))}),Object(a.jsx)(u.a,{item:!0,xs:12,children:O(d,h,Vn(h,c,Yn),Object(a.jsx)(Pn.a,{style:qn}))})]})})]})}function Jn(e){var t=e.data,n=t.utilization,i={title:"Utilization",gaugeValue:n,gaugeUnit:"Percent",maxTitle:"Uptime",minTitle:"Downtime",maxValue:t.uptime,minValue:t.downtime,thresholds:{high:66,low:33}},r={title:"OEE",gaugeValue:n,gaugeUnit:"Percent",maxTitle:"Maximum",minTitle:"Minimum",maxValue:n,minValue:n,thresholds:{high:66,low:33}},o={title:"Temperature",gaugeValue:t.temperatureNow,gaugeUnit:"\xb0C",maxTitle:"Maximum",minTitle:"Minimum",maxValue:t.temperatureMax,minValue:t.temperatureMin,thresholds:{high:66,low:33}},c={title:"Humidity",gaugeValue:t.humidityNow,gaugeUnit:"%RH",maxTitle:"Maximum",minTitle:"Minimum",maxValue:t.humidityMax,minValue:t.humidityMin,thresholds:{high:66,low:33}};return Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:3e3}),{},{children:Object(a.jsx)(u.a,{item:!0,md:3,xs:12,children:Object(a.jsx)(Kn,{data:i})})})),Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:3500}),{},{children:Object(a.jsx)(u.a,{item:!0,md:3,xs:12,children:Object(a.jsx)(Kn,{data:r})})})),Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:4e3}),{},{children:Object(a.jsx)(u.a,{item:!0,md:3,xs:12,children:Object(a.jsx)(Kn,{data:o})})})),Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:4500}),{},{children:Object(a.jsx)(u.a,{item:!0,md:3,xs:12,children:Object(a.jsx)(Kn,{data:c})})}))]})}var Xn=n(121),$n=n.n(Xn),Qn={second:"%l:%M:%S %P",minute:"%l:%M %P",hour:"%l %P",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},ea={chart:{height:300,margin:[25,25,25,25],renderTo:"container",zoomType:"x",borderRadius:10},tooltip:{valueDecimals:2,split:!1,distance:30,padding:10},time:{useUTC:!1},credits:{enabled:!1},xAxis:{type:"datetime",dateTimeLabelFormats:Qn,gridLineWidth:0,lineWidth:0,minorGridLineWidth:0,tickColor:"rgb(0,0,0,0)"},scrollbar:{barBackgroundColor:"white",barBorderRadius:1,barBorderWidth:1,buttonBackgroundColor:"white",buttonBorderWidth:1,buttonArrowColor:"rgba(0,0,0,0.4)",buttonBorderRadius:1,rifleColor:"rgba(0,0,0,0.4)",trackBackgroundColor:"white",trackBorderWidth:1,trackBorderColor:"rgba(0,0,0,0.2)",trackBorderRadius:1},navigator:{height:30,handles:{backgroundColor:"rgb(0,0,0,0)",borderColor:"rgb(0,0,0,0)"},outlineColor:"rgba(0,0,0,0)",maskFill:"rgba(0,0,0,0.2)",xAxis:{gridLineWidth:0,dateTimeLabelFormats:Qn}},rangeSelector:{inputEnabled:!1,verticalAlign:"bottom",x:0,y:0,allButtonsEnabled:!0,buttonPosition:{align:"center",x:0,y:0},buttons:[{type:"all",text:"All"},{type:"day",count:1,text:"1 Day"},{type:"hour",count:1,text:"1 Hour"},{type:"minute",count:5,text:"5 Min"}],selected:2,buttonTheme:{width:45}}},ta=function(e){var t=Object(i.useState)(ea),n=Object(E.a)(t,2),r=n[0],o=n[1];return Object(i.useEffect)((function(){var t=e.chartData?e.chartData:{series:[],timestamps:[],name:"",step:"",decimal:0,color:"#ffffff"},n=t.series,a=t.timestamps,i=t.name,r=t.step,c=t.color,s=t.yMax;o({yAxis:[{min:0,max:s||Math.max.apply(Math,Object(Ve.a)(n))}],series:[{data:function(){var e,t=a,i=n,r=[];for(e=0;e<t.length;++e)r.push([t[e],i[e]]);return r}(),step:r,name:i,type:"areaspline",color:c,fillColor:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,c],[.6,$n.a.color(c).setOpacity(.1).get("rgba")]]},threshold:null}]})}),[e]),Object(a.jsx)(U.a,{highcharts:$n.a,constructorType:"stockChart",options:r})},na=Object(M.a)((function(e){return D()}));function aa(e){var t=na(),n=e.lineCharts,r=n.machineCurrent,o=n.machineState,c=n.machinePower,l=n.temperature,d=n.humidity,h=Object(i.useState)(0),O=Object(E.a)(h,2),f=O[0],g=O[1],x=[r,o,c,l,d],v=["Current (A)","State","Power (W)","Temperature (C)","Humidity (%RH)"],_=x.map((function(e,t){var n=e.color,i=m.BLUEGREY[200],r=m.BLUEGREY[500],o=t===f?"white":r,c=t===f?n:i;return Object(a.jsx)(u.a,{item:!0,lg:2,md:4,sm:6,xs:12,children:Object(a.jsx)(y.a,{title:"Switch Between Charts",placement:"top",children:Object(a.jsx)(p.a,{fullWidth:!0,style:{color:o,backgroundColor:c,padding:0},onClick:function(e){return g(t)},children:Object(a.jsx)(j.a,{variant:"caption",style:{padding:3,color:o},children:v[t]})})})},t)})),C=x.map((function(e,t){return Object(a.jsx)(ta,{chartData:e})}));return Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:5e3}),{},{children:Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",component:b.a,elevation:2,className:t.cardHover,children:[Object(a.jsx)(u.a,{item:!0,xs:12,style:{paddingTop:15,paddingLeft:15,paddingRight:15,paddingBottom:30},children:Object(a.jsx)(u.a,{container:!0,spacing:1,justify:"center",alignItems:"center",children:_})}),Object(a.jsx)(u.a,{item:!0,xs:12,children:C[f]})]})}))}var ia=n(162),ra=n.n(ia)()(De.server,{transports:["websocket"]}),oa={machineCurrent:m.GREEN[500],machineState:m.PURPLE[500],machinePower:m.YELLOW[500],temperature:m.ORANGE[500],humidity:m.BLUE[500]},ca=["Last Hour","Last 12 Hours","Last Day"],sa=Object(M.a)((function(e){return D()}));function la(e){var t=sa(),n=Object(A.b)(),r=Object(i.useState)(ca[0]),o=Object(E.a)(r,2),c=o[0],s=o[1],l=Object(i.useState)(null),d=Object(E.a)(l,2),j=d[0],h=d[1],b=Object(i.useState)("Updating..."),p=Object(E.a)(b,2),O=p[0],f=p[1],g=Object(A.c)((function(e){return e.machineDetails.machineLoading})),x=Object(A.c)((function(e){return e.common.timeFilter})),y=Object(A.c)((function(e){return e.machineDetails.data})),v=Object(A.c)((function(e){return e.machineDetails.noStoredMachineDataResponse})),_=function(e,t){var n=0===t?1:1===t?12:2===t?24:1,a=e instanceof Array&&e.length>0?e:null,i=[],r=0,o=0,c=0,s=[],l=0,d=0,u=0,j=[],m=0,h=0,b=0,p=[],O=0,f=[],g=0,x=[],y="Unknown",v="Unknown",_=0,C="Unknown",D="Unknown";if(a)try{var N=a.slice(-1)[0];o=(i=a.map((function(e){return Date.parse(e.timestamp)})))[0],r=i.slice(-1)[0],c=$e(n,r);var w=i.map((function(e){return e>c?e:null})).filter((function(e){return e})).length,I=(s=a.map((function(e){return e.temperature}))).slice(-w);l=N.temperature,d=Math.max.apply(Math,Object(Ve.a)(I)),u=Math.min.apply(Math,Object(Ve.a)(I));var M=(j=a.map((function(e){return e.humidity}))).slice(-w);m=N.humidity,h=Math.max.apply(Math,Object(Ve.a)(M)),b=Math.min.apply(Math,Object(Ve.a)(M)),p=a.map((function(e){return e.load_current})),O=N.load_current;var E=(f=p.map((function(e){return 658.16*e}))).slice(-w);g=Math.round(Je(E)/1e3*n),x=a.map((function(e){return e.status})).map((function(e){return"OFF"===e?0:"IDLE"===e?1:"ON"===e?2:0})),v=N.status,y=Xe(1e3*N.machine_state_duration,0);var A=x.slice(-w),L=0,k=0;A.map((function(e,t){return 2===e?L++:k++,t})),_=Math.round(L/A.length*100),C=qe(Math.round(L/12)),D=qe(Math.round(k/12))}catch(S){console.log(S)}return{timestamps:i,timestampEnd:r,timestampStart:o,timestampStartFilter:c,temperature:s,temperatureNow:l,temperatureMax:d,temperatureMin:u,humidity:j,humidityNow:m,humidityMax:h,humidityMin:b,loadCurrent:p,currentNow:O,instantPower:f,unitsConsumed:g,machineState:x,stateNowDuration:y,stateNow:v,utilization:_,uptime:C,downtime:D}}(ht(y)?ht(j)?[].concat(Object(Ve.a)(y),[j]):y:[],ca.indexOf(c)),C=e.match.params.machineID;Object(i.useEffect)((function(){s(x)}),[x]),Object(i.useEffect)((function(){!function(e,t){e({type:te.machineLoading});var n={method:"get",url:De.server+"/data/"+t,headers:{"Content-Type":"application/json"}};De.showMockData?setTimeout((function(){e({type:te.getMachineDataByID,payload:{ID:t,data:mn()}})}),2e3):Mt()(n).then((function(n){var a=n.data;200===n.status||201===n.status?ht(a)?e({type:te.getMachineDataByID,payload:{ID:t,data:a}}):e({type:te.noStoredMachineDataResponse,payload:{ID:t}}):console.log(n.status)})).catch((function(t){return Et(t,e,te)}))}(n,C)}),[n,C]),Object(i.useEffect)((function(){De.showMockData||ra.emit("send-data-demo-machine",{_id:C}),De.showMockData?setInterval((function(){h(function(){var e=String(new Date);return{load_current:dn(0,un),status:jn(),machine_state_duration:dn(0,86400),temperature:dn(0,80),humidity:dn(0,100),timestamp:e}}())}),5e3):ra.on("data-demo-machine-".concat(C),(function(e){try{h(e||null)}catch(t){h(null),console.log(t)}}))}),[C]);var D=_.timestamps,N=_.timestampEnd,w=_.temperature,I=_.temperatureNow,M=_.temperatureMax,L=_.temperatureMin,k=_.humidity,S=_.humidityNow,T=_.humidityMax,F=_.humidityMin,R=_.loadCurrent,W=_.currentNow,B=_.instantPower,G=_.unitsConsumed,Z=_.machineState,P=_.stateNowDuration,z=_.stateNow,U=_.utilization,H=_.uptime,Y=_.downtime,V=new Date(N).toLocaleTimeString("en-US");Object(i.useEffect)((function(){null!==j?f(Xe((new Date).getTime(),N)):setInterval((function(){f(O),N>0&&f(Xe((new Date).getTime(),N))}),1e4)}),[N,j,O]);var q={machineState:{series:Z,timestamps:D,name:"State",color:oa.machineState,step:"center"},machinePower:{series:B,timestamps:D,name:"Power",color:oa.machinePower},machineCurrent:{series:R,timestamps:D,name:"Current",color:oa.machineCurrent},temperature:{series:w,timestamps:D,name:"Temperature",color:oa.temperature},humidity:{series:k,timestamps:D,name:"Humidity",color:oa.humidity}},K=Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:0,children:[Object(a.jsx)(u.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(mt,{list:De.navigationList.monitoring})})})}),Object(a.jsx)(u.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center",children:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(yn,{options:ca,selected:c,type:ne,icon:Object(a.jsx)(bn.a,{className:t.iconInsideButton,style:{color:m.TEAL[700]}})})})})})]}),J=Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:K}),Object(a.jsx)(Xt,{})]}),X=Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:K}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(Rn,{data:{currentNow:W,lastUpdateTimestamp:V,timeSinceLastUpdate:O,stateNow:z,stateNowDuration:P,unitsConsumed:G,timeFilter:c,liveData:j}})}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(Jn,{data:{utilization:U,uptime:H,downtime:Y,temperatureNow:I,temperatureMax:M,temperatureMin:L,humidityNow:S,humidityMax:T,humidityMin:F}})}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(aa,{lineCharts:q})})]}),$=Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:K}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(u.a,{container:!0,justify:"center",alignItems:"center",style:{height:"70vh"},spacing:4,children:Object(a.jsx)(zt,{message:v})})})]});return g?J:null!==v?$:X}var da=n(164),ua=n.n(da),ja=n(165),ma=n.n(ja),ha=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},ba={width:15,paddingRight:3},pa=function(){var e=ha(0,2);return{name:function(e){switch(e){case 0:return"Off";case 1:return"Idle";case 2:return"Active";default:return"Off"}}(e),change:e,value:ha(0,60)+" min",icon:function(e){switch(e){case 0:return Object(a.jsx)(Ln.a,{style:ba});case 1:return Object(a.jsx)(In.a,{style:ba});case 2:return Object(a.jsx)(En.a,{style:ba});default:return Object(a.jsx)(Ln.a,{style:ba})}}(e),thresholds:{high:1.5,low:1}}},Oa=function(){var e=ha(0,60);return{name:"Uptime",change:e,value:e+" min",icon:Object(a.jsx)(Un.a,{style:ba}),thresholds:{high:40,low:20}}},fa=function(){var e=ha(0,60);return{name:"Downtime",change:e,value:e+" min",icon:Object(a.jsx)(Pn.a,{style:ba}),thresholds:{high:40,low:20}}},ga=500;function xa(e){return Object(a.jsxs)(u.a,{container:!0,spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,spacing:2,children:tt().map((function(e,t){return Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:ga+t*ga}),{},{children:Object(a.jsx)(u.a,{item:!0,lg:2,md:4,sm:6,xs:12,children:Object(a.jsx)(_e,{data:e})},t)}),t)}))})}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,children:e.allMachinesInAZone.map((function(t,n){return Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:ga+n*ga}),{},{children:Object(a.jsx)(u.a,{item:!0,lg:3,md:4,sm:12,children:Object(a.jsx)(xe,{compact:e.compact,data:{name:t.name,ID:t._id,mapping:!0,status:pa(),info1:Oa(),info2:fa(),gaugeItem1:{name:"Utilization",value:Math.round(100*Math.random()),suffix:"%",thresholds:{high:66,low:33},icon:Object(a.jsx)(ke.a,{style:ba})},gaugeItem2:{name:"Units",value:Math.round(100*Math.random()),suffix:"KWh",thresholds:{high:66,low:33},icon:Object(a.jsx)(Te.a,{style:ba})}}})},n)}),n)}))})})]})}var ya=Object(M.a)((function(e){return D()})),va=function(e){var t=ya(),n=Object(A.b)(),i=e.data,o=i.name,c=i.ID,s=i.sensor1,l=i.sensor2,d=r.a.useState(null),h=Object(E.a)(d,2),O=h[0],f=h[1],g=function(){f(null)},x={sensor:s?s.Sensor_Number:l?3-l.Sensor_Number:1,machine:s?s.name:"Not connected"},v={sensor:l?l.Sensor_Number:s?3-s.Sensor_Number:2,machine:l?l.name:"Not connected"};return Object(a.jsx)(b.a,{elevation:2,style:{padding:10},className:t.cardHover,children:Object(a.jsxs)(u.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(a.jsx)(u.a,{item:!0,xs:10,children:Object(a.jsx)(y.a,{title:"MAC Address",placement:"top",children:Object(a.jsx)(p.a,{disableRipple:!0,children:Object(a.jsx)(j.a,{variant:"button",style:{color:m.BLUEGREY[600]},children:o})})})}),Object(a.jsxs)(u.a,{item:!0,xs:"auto",children:[Object(a.jsx)(y.a,{title:"Settings",placement:"top",children:Object(a.jsx)(F.a,{onClick:function(e){f(e.currentTarget)},children:Object(a.jsx)(T.a,{className:t.iconButton})})}),Object(a.jsx)(L.a,{id:"settingsMenu",anchorEl:O,keepMounted:!0,open:Boolean(O),onClose:g,children:Object(a.jsxs)(k.a,{onClick:function(){g(),je(n,c,o)},children:[Object(a.jsx)(q.a,{className:t.menuItemIcon}),Object(a.jsx)(j.a,{variant:"inherit",children:"Edit"})]})})]}),Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,children:Object(a.jsxs)(u.a,{item:!0,xs:12,children:[Object(a.jsxs)(u.a,{container:!0,justify:"space-between",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsxs)(j.a,{variant:"body2",style:{color:m.BLUEGREY[600],padding:10,display:"inline-block"},children:["Sensor ",x.sensor]})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(j.a,{variant:"body2",style:{color:m.TEAL[600],padding:10,display:"inline-block"},children:x.machine})})]}),Object(a.jsxs)(u.a,{container:!0,justify:"space-between",children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsxs)(j.a,{variant:"body2",style:{color:m.BLUEGREY[600],padding:10,display:"inline-block"},children:["Sensor ",v.sensor]})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(j.a,{variant:"body2",style:{color:m.TEAL[600],padding:10,display:"inline-block"},children:v.machine})})]})]})})})]})})};function _a(e){var t=e.allNodesInAZone,n=Object.keys(t);return Object(a.jsx)(u.a,{container:!0,children:Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,children:n.map((function(e,n){return Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500+500*n}),{},{children:Object(a.jsx)(u.a,{item:!0,lg:3,md:4,xs:12,children:Object(a.jsx)(va,{data:{name:e,sensor1:t[e][0],sensor2:t[e][1]}})},n)}),n)}))})})})}var Ca=2e3,Da=function(e,t){e({type:ee.nodesLoading});var n={method:"get",url:De.server+"/Zone/Node_Machine_Data/"+t,headers:{"Content-Type":"application/json"}};De.showMockData?setTimeout((function(){e({type:ee.getAllNodesInAZone,payload:{allNodesInAZoneProfiles:St.getAllNodes,allNodesInAZone:St.getAllNodeToMachineMappingInAZone,zoneID:t}})}),Ca):Mt()(n).then((function(n){var a=n.data;if(ht(a)){var i=a,r={method:"get",url:De.server+"/nodes",headers:{"Content-Type":"application/json"}};Mt()(r).then((function(n){var a=n.data;if(ht(a)){var r=a.filter((function(e){return e})),o=Object.keys(i).map((function(e){for(var t=0;t<r.length;t++)if(e===r[t].mac)return r[t];return null}));o=o.filter((function(e){return e})),e({type:ee.getAllNodesInAZone,payload:{allNodesInAZoneProfiles:o,allNodesInAZone:i,zoneID:t}})}else console.log("error: unexpected response",a)})).catch((function(t){return Et(t,e,ee)}))}else console.log("error: unexpected response",a)})).catch((function(t){return Et(t,e,ee)}))},Na=n(333),wa=Object(M.a)((function(e){return N(e)})),Ia=function(e){var t=wa(),n=Object(A.b)(),r=Object(A.c)((function(e){return e.common.toggleAddFormDrawer})),o=Object(A.c)((function(e){return e.machines.addMachineResponse})),c=Object(A.c)((function(e){return e.machines.addMachineLoading})),l=Object(A.c)((function(e){return e.nodes.allNodesInAZone})),d=Object(A.c)((function(e){return e.nodes.allNodesInAZoneProfiles})),u=Object.keys(l).filter((function(e){return l[e].length<2&&l[e]})),m=Object(i.useState)({name:"",maxLoad:0,idleThreshold:0,MAC:"",sensor:null}),h=Object(E.a)(m,2),b=h[0],O=h[1],f=Object(i.useState)({}),g=Object(E.a)(f,2),x=g[0],y=g[1],_=Object(i.useState)(""),C=Object(E.a)(_,2),D=C[0],N=C[1],I=Object(i.useState)(!1),M=Object(E.a)(I,2),L=M[0],k=M[1],S=function(){O(Object(s.a)(Object(s.a)({},b),{},{name:"",maxLoad:0,idleThreshold:0,MAC:"",sensor:null})),y({}),k(!1)},T=function(e){e.target.id&&(O(Object(s.a)(Object(s.a)({},b),{},Object(v.a)({},e.target.id,e.target.value))),y(Object(s.a)(Object(s.a)({},x),{},Object(v.a)({},e.target.id,null))))},F=function(e){e.preventDefault();var t=yt;t.name=""!==b.name?b.name:null,t.idle_threshold=b.idleThreshold>0?b.idleThreshold:null,t.max_load=parseInt(b.maxLoad)>0?b.maxLoad:null;var a=vt;if(""!==b.MAC){var i=d.map((function(e){return e.mac===b.MAC?e._id:null}));a.node_id=i.filter((function(e){return e})).pop()}else a.node_id=null;a.sensor_number=1===parseInt(b.sensor)||2===parseInt(b.sensor)?parseInt(b.sensor):null,y(Object(s.a)(Object(s.a)({},x),{},{name:""===b.name?"Cannot be empty.":null,maxLoad:0===parseInt(b.maxLoad)?"Cannot be zero.":null,idleThreshold:0===b.idleThreshold?"Cannot be zero.":null,MAC:""===b.MAC?"Cannot be empty.":null,sensor:1!==parseInt(b.sensor)&&2!==parseInt(b.sensor)?"Cannot be empty.":null})),t.idle_threshold&&t.max_load&&t.name&&a.node_id&&a.sensor_number&&(N(t.name),function(e,t,n){e({type:Q.addMachineLoading});var a=JSON.stringify(t),i={method:"post",url:De.server+"/Machine",headers:{"Content-Type":"application/json"},data:a};De.showMockData?setTimeout((function(){e({type:Q.addMachine,payload:{response:t}})}),Ca):Mt()(i).then((function(a){if(200===a.status||201===a.status){n.machine_id=a.data._id;var i={method:"post",url:De.server+"/MachineMapping",headers:{"Content-Type":"application/json"},data:JSON.stringify(n)};Mt()(i).then((function(n){200!==n.status&&201!==n.status||e({type:Q.addMachine,payload:{response:t}})})).catch((function(t){return Et(t,e,Q)}))}})).catch((function(t){return Et(t,e,Q)}))}(n,t,a))},R=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(S(),ue(n))};return Object(i.useEffect)((function(){o.name===D&&k(!0)}),[o,D]),Object(i.useEffect)((function(){L&&setTimeout((function(){ue(n),S(),window.location.href=e.url}),2e3)}),[L,n,e.url]),Object(a.jsx)(Wt.a,{open:r,anchor:"right",onClose:function(e){return R()},children:Object(a.jsx)(Rt.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Add Machine"}),Object(a.jsxs)("form",{noValidate:!0,className:t.form,onSubmit:function(e){return e.preventDefault()},children:[L?Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(we.a,{}),fullWidth:!0,className:t.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsx)(Ft.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",placeholder:x.name,color:x.name?"secondary":"primary",onChange:function(e){return T(e)},autoComplete:"off",focused:!0}),Object(a.jsx)(Ft.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"maxLoad",label:"Maximum Load",name:"maxLoad",color:x.maxLoad?"secondary":"primary",onChange:function(e){return T(e)},autoComplete:"off",focused:!0,defaultValue:0,type:"number",inputProps:{min:0}}),x.maxLoad?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.error,color:"secondary",children:x.maxLoad}):null,Object(a.jsxs)("div",{style:w.container,children:[Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.title,color:x.idleThreshold?"secondary":b.maxLoad>0?"primary":"textSecondary",children:"Idle Threshold*"}),Object(a.jsx)(Na.a,{disabled:!(b.maxLoad>0),defaultValue:0,min:0,max:parseInt(b.maxLoad),step:1,valueLabelDisplay:"auto",onChange:function(e,t){return function(e,t){O(Object(s.a)(Object(s.a)({},b),{},{idleThreshold:t})),y(Object(s.a)(Object(s.a)({},x),{},{idleThreshold:null}))}(0,t)},color:x.idleThreshold?"secondary":"primary"}),x.idleThreshold?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.error,color:"secondary",children:x.idleThreshold}):null]}),Object(a.jsxs)(Ft.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"MAC",name:"MAC",label:"SSN MAC Address",select:!0,value:b.MAC,onChange:function(e){return T(e)},SelectProps:{native:!0},color:x.MAC?"secondary":"primary",focused:!0,children:[Object(a.jsx)("option",{value:""}),u.map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))]}),x.MAC?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.error,color:"secondary",children:x.MAC}):null,Object(a.jsxs)(Ft.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"sensor",name:"sensor",label:"Sensor",select:!0,value:b.sensor,onChange:function(e){return T(e)},focused:!!(b.MAC.length>0||x.sensor),SelectProps:{native:!0},color:x.sensor?"secondary":"primary",children:[Object(a.jsx)("option",{value:null}),l[b.MAC]&&0===l[b.MAC].length?Object(a.jsx)("option",{value:1,children:"Sensor 1"}):null,l[b.MAC]&&0===l[b.MAC].length?Object(a.jsx)("option",{value:2,children:"Sensor 2"}):null,l[b.MAC]&&1===l[b.MAC].length?1===l[b.MAC][0].Sensor_Number?Object(a.jsx)("option",{value:2,children:"Sensor 2"}):Object(a.jsx)("option",{value:1,children:"Sensor 1"}):null]}),x.sensor?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.error,color:"secondary",children:x.sensor}):null,c?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(Bt.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submit,onClick:function(e){return F(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:t.submit,onClick:function(e){return R()},children:"Cancel"})]})]})})})},Ma=Object(M.a)((function(e){return N(e)})),Ea=function(e){var t=Ma(),n=Object(A.b)(),r=Object(A.c)((function(e){return e.common.toggleEditFormDrawer})),o=Object(A.c)((function(e){return e.machines.editMachineResponse})),c=Object(A.c)((function(e){return e.machines.editMachineLoading})),l=Object(A.c)((function(e){return e.machines.deleteMachineLoading})),d=Object(A.c)((function(e){return e.machines.allMachinesInAZone})),u=d.findIndex((function(e){return e._id===r.ID})),m=u<0?{}:d[u],h=Object(i.useState)({}),b=Object(E.a)(h,2),O=b[0],f=b[1],g=Object(i.useState)(""),x=Object(E.a)(g,2),y=x[0],_=x[1],C=Object(i.useState)({}),D=Object(E.a)(C,2),N=D[0],I=D[1],M=Object(i.useState)(!1),L=Object(E.a)(M,2),k=L[0],S=L[1],T=function(){f({name:"",maxLoad:0,idleThreshold:0}),I({}),S(!1)},F=function(e){e.target.id&&(f(Object(s.a)(Object(s.a)({},O),{},Object(v.a)({},e.target.id,e.target.value))),I(Object(v.a)({},e.target.id,null)))},R=function(e){e.preventDefault();var t=_t;t.id=r.ID,""===O.name?I(Object(s.a)(Object(s.a)({},N),{},{name:"Cannot be empty"})):O.name===m.name||(t.name=O.name),0===parseInt(O.maxLoad)?I(Object(s.a)(Object(s.a)({},N),{},{maxLoad:"Cannot be zero"})):O.maxLoad===m.max_load||(t.max_load=O.maxLoad),0===O.idleThreshold?I(Object(s.a)(Object(s.a)({},N),{},{idleThreshold:"Cannot be zero"})):O.idleThreshold===m.idle_threshold||(t.idle_threshold=O.idleThreshold),t.id&&Object.keys(t).length>1&&0===Object.values(N).filter((function(e){return e})).length&&(_(t.id),function(e,t){e({type:Q.editMachineLoading});var n=JSON.stringify(t),a={method:"patch",url:De.server+"/machine",headers:{"Content-Type":"application/json"},data:n};De.showMockData?setTimeout((function(){e({type:Q.editOrDeleteMachine,payload:{response:t}})}),Ca):Mt()(a).then((function(n){200!==n.status&&201!==n.status||e({type:Q.editOrDeleteMachine,payload:{response:t}})})).catch((function(t){return Et(t,e,Q)}))}(n,t))},W=function(e){if(e.preventDefault(),window.confirm("Are you sure you want to delete this item?")){var t=Ct;t.id=r.ID,_(t.id),function(e,t){e({type:Q.deleteMachineLoading});var n=JSON.stringify(t),a={method:"delete",url:De.server+"/machine",headers:{"Content-Type":"application/json"},data:n};De.showMockData?setTimeout((function(){e({type:Q.editOrDeleteMachine,payload:{response:t}})}),Ca):Mt()(a).then((function(n){200!==n.status&&201!==n.status||e({type:Q.editOrDeleteMachine,payload:{response:t}})})).catch((function(t){return Et(t,e,Q)}))}(n,t)}},B=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(T(),je(n))};return Object(i.useEffect)((function(){f({name:m.name,maxLoad:m.max_load,idleThreshold:m.idle_threshold})}),[m.name,m.max_load,m.idle_threshold]),Object(i.useEffect)((function(){o.id===y&&S(!0)}),[o,y]),Object(i.useEffect)((function(){k&&setTimeout((function(){T(),je(n),window.location.href=e.url}),2e3)}),[k,n,e]),Object(a.jsx)(Wt.a,{open:r.open,anchor:"right",onClose:function(e){return B()},children:Object(a.jsx)(Rt.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Edit Machine"}),Object(a.jsxs)("form",{noValidate:!0,className:t.form,onSubmit:function(e){return e.preventDefault()},children:[k?Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(we.a,{}),fullWidth:!0,className:t.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsx)(Ft.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",placeholder:N.name?N.name:O.name,defaultValue:O.name,color:N.name?"secondary":"primary",onChange:function(e){return F(e)},autoComplete:"off",focused:!0}),Object(a.jsx)(Ft.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"maxLoad",label:"Maximum Load",name:"maxLoad",color:N.maxLoad?"secondary":"primary",onChange:function(e){return F(e)},autoComplete:"off",focused:!0,defaultValue:O.maxLoad,type:"number",inputProps:{min:0}}),N.maxLoad?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.error,color:"secondary",children:N.maxLoad}):null,Object(a.jsxs)("div",{style:w.container,children:[Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.title,color:N.idleThreshold?"secondary":O.maxLoad>0?"primary":"textSecondary",children:"Idle Threshold*"}),Object(a.jsx)(Na.a,{disabled:!(O.maxLoad>0),defaultValue:O.idleThreshold,min:0,max:parseInt(O.maxLoad),step:1,valueLabelDisplay:"auto",onChange:function(e,t){return function(e,t){f(Object(s.a)(Object(s.a)({},O),{},{idleThreshold:t})),I({idleThreshold:null})}(0,t)},color:N.idleThreshold?"secondary":"primary"}),N.idleThreshold?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.error,color:"secondary",children:N.idleThreshold}):null]}),c?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(Bt.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submit,onClick:function(e){return R(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:t.submit,onClick:function(e){return B()},children:"Cancel"}),Object(a.jsx)("hr",{className:t.divider}),l?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"secondary",className:t.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(Bt.a,{color:"secondary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:t.submit,color:"secondary",onClick:function(e){return W(e)},children:"Delete"})]})]})})})},Aa=Object(M.a)((function(e){return N(e)})),La=function(e){var t=[];return(e=(e=e.toLowerCase()).split("")).forEach((function(e,n){for(var a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],i=0;i<a.length;i++){if(e===a[i]){t[n]=!0;break}t[n]=!1}})),!t.includes(!1)},ka=[{value:10,label:"10 A"},{value:30,label:"30 A"},{value:50,label:"50 A"},{value:80,label:"80 A"},{value:100,label:"100 A"}],Sa=function(e){var t=Aa(),n=Object(A.b)(),r=Object(A.c)((function(e){return e.common.toggleAddFormDrawer})),o=Object(A.c)((function(e){return e.nodes.addNodeResponse})),c=Object(A.c)((function(e){return e.machines.zoneID})),l=Object(A.c)((function(e){return e.nodes.addNodeLoading})),d=Object(i.useState)({MAC:"",sensor1Rating:ka[0].value,sensor2Rating:ka[0].value}),u=Object(E.a)(d,2),m=u[0],h=u[1],b=Object(i.useState)({}),O=Object(E.a)(b,2),f=O[0],g=O[1],x=Object(i.useState)(""),y=Object(E.a)(x,2),_=y[0],C=y[1],D=Object(i.useState)(!1),N=Object(E.a)(D,2),I=N[0],M=N[1],L=function(){h({MAC:"",sensor1Rating:ka[0].value,sensor2Rating:ka[0].value}),g({}),M(!1)},k=function(e){e.preventDefault();var t=Dt;t.mac=12===m.MAC.length&&La(m.MAC)?function(e){for(var t=Array.from(e),n=0,a=2;a<12;n++,a+=2)t.splice(a+n,0,":");return t.join().split(",").join("")}(m.MAC):null,t.sensor_1_rating=m.sensor1Rating>0?m.sensor1Rating:null,t.sensor_2_rating=m.sensor2Rating>0?m.sensor2Rating:null,g({MAC:""===m.MAC||m.MAC.length<12||!La(m.MAC)?"Invalid MAC Address":null,sensor1Rating:0===m.sensor1Rating?"Cannot be zero.":null,sensor2Rating:0===m.sensor2Rating?"Cannot be zero.":null}),t.mac&&t.sensor_1_rating&&t.sensor_2_rating&&(C(t.mac),function(e,t,n){e({type:ee.addNodeLoading});var a={method:"post",url:De.server+"/node",headers:{"Content-Type":"application/json"},data:JSON.stringify(t)};De.showMockData?setTimeout((function(){e({type:ee.addNode,payload:{response:t}})}),Ca):Mt()(a).then((function(a){if(200===a.status||201===a.status){var i=a.data._id,r={zone_id:n,node_id:i},o={method:"post",url:De.server+"/ZoneMapping",headers:{"Content-Type":"application/json"},data:JSON.stringify(r)};Mt()(o).then((function(n){200!==n.status&&201!==n.status||e({type:ee.addNode,payload:{response:t}})})).catch((function(t){return Et(t,e,ee)}))}})).catch((function(t){return Et(t,e,ee)}))}(n,t,c))},S=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(L(),ue(n))};return Object(i.useEffect)((function(){o.mac===_?M(!0):M(!1)}),[o,_]),Object(i.useEffect)((function(){I&&setTimeout((function(){ue(n),L(),Da(n,c)}),2e3)}),[I,n,c]),Object(a.jsx)(Wt.a,{open:r,anchor:"right",onClose:function(e){return S()},children:Object(a.jsx)(Rt.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Add Node"}),Object(a.jsxs)("form",{noValidate:!0,className:t.form,onSubmit:function(e){return e.preventDefault()},children:[I?Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(we.a,{}),fullWidth:!0,className:t.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsx)(Ft.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"MAC",label:"MAC",name:"MAC",placeholder:f.MAC,value:f.MAC?"":m.MAC?m.MAC:"",color:f.MAC?"secondary":"primary",onChange:function(e){return function(e){e.target.id&&h(Object(s.a)(Object(s.a)({},m),{},Object(v.a)({},e.target.id,e.target.value))),g(Object(v.a)({},e.target.id,null))}(e)},autoComplete:"off",focused:!0,inputProps:{maxLength:12},helperText:"Example: 001AC27B0047"}),Object(a.jsxs)("div",{style:w.container,children:[Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.title,color:f.sensor1Rating?"secondary":"primary",children:"Sensor 1*"}),Object(a.jsx)(Na.a,{min:ka.map((function(e){return e})).slice(0,1).pop().value,valueLabelFormat:function(e){return ka.map((function(t){return t.value===e?t.value:null}))},step:null,valueLabelDisplay:"auto",marks:ka,onChange:function(e,t){return function(e,t){h(Object(s.a)(Object(s.a)({},m),{},{sensor1Rating:t})),g({sensor1Rating:null})}(0,t)},color:f.sensor1Rating?"secondary":"primary"})]}),f.sensor1Rating?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.error,color:"secondary",children:f.sensor1Rating}):null,Object(a.jsxs)("div",{style:w.container,children:[Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.title,color:f.sensor2Rating?"secondary":"primary",children:"Sensor 2*"}),Object(a.jsx)(Na.a,{min:ka.map((function(e){return e})).slice(0,1).pop().value,valueLabelFormat:function(e){return ka.map((function(t){return t.value===e?t.value:null}))},step:null,valueLabelDisplay:"auto",marks:ka,onChange:function(e,t){return function(e,t){h(Object(s.a)(Object(s.a)({},m),{},{sensor2Rating:t})),g({sensor1Rating:null})}(0,t)},color:f.sensor2Rating?"secondary":"primary"})]}),f.sensor2Rating?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.error,color:"secondary",children:f.sensor2Rating}):null,l?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(Bt.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submit,onClick:function(e){return k(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:t.submit,onClick:function(e){return S()},children:"Cancel"})]})]})})})},Ta=Object(M.a)((function(e){return N(e)})),Fa=[{value:10,label:"10 A"},{value:30,label:"30 A"},{value:50,label:"50 A"},{value:80,label:"80 A"},{value:100,label:"100 A"}],Ra=function(e){var t=Ta(),n=Object(A.b)(),r=Object(A.c)((function(e){return e.common.toggleEditFormDrawer})),o=Object(A.c)((function(e){return e.nodes.editNodeResponse})),c=Object(A.c)((function(e){return e.nodes.editNodeLoading})),l=Object(A.c)((function(e){return e.nodes.deleteNodeLoading})),d=Object(A.c)((function(e){return e.machines.zoneID})),u=Object(A.c)((function(e){return e.nodes.allNodesInAZoneProfiles})),m=u.findIndex((function(e){return e.mac===r.name})),h=m<0?{}:u[m],b=Object(i.useState)({MAC:"",sensor1Rating:0,sensor2Rating:0}),O=Object(E.a)(b,2),f=O[0],g=O[1],x=Object(i.useState)({}),y=Object(E.a)(x,2),_=y[0],C=y[1],D=Object(i.useState)(""),N=Object(E.a)(D,2),I=N[0],M=N[1],L=Object(i.useState)(!1),k=Object(E.a)(L,2),S=k[0],T=k[1],F=function(){g({MAC:"",sensor1Rating:0,sensor2Rating:0}),C({}),T(!1)},R=function(e){e.preventDefault();var t=Nt;t.id=h._id,17===f.MAC.length&&function(e){var t=[];return(e=(e=e.toLowerCase()).split(":").join("").split("")).forEach((function(e,n){for(var a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],i=0;i<a.length;i++){if(e===a[i]){t[n]=!0;break}t[n]=!1}})),!t.includes(!1)}(f.MAC)?f.MAC===h.mac||(t.mac=f.MAC):C(Object(s.a)(Object(s.a)({},_),{},{MAC:"Invalid MAC"})),f.sensor1Rating===h.sensor_1_rating||(t.sensor_1_rating=f.sensor1Rating),f.sensor2Rating===h.sensor_2_rating||(t.sensor_2_rating=f.sensor2Rating),t.id&&Object.keys(t).length>1&&0===Object.values(_).filter((function(e){return e})).length&&(M(t.id),function(e,t){e({type:ee.editNodeLoading});var n=JSON.stringify(t),a={method:"patch",url:De.server+"/node",headers:{"Content-Type":"application/json"},data:n};De.showMockData?setTimeout((function(){e({type:ee.editOrDeleteNode,payload:{response:t}})}),Ca):Mt()(a).then((function(n){200!==n.status&&201!==n.status||e({type:ee.editOrDeleteNode,payload:{response:t}})})).catch((function(t){return Et(t,e,ee)}))}(n,t))},W=function(e){if(e.preventDefault(),window.confirm("Are you sure you want to delete this item?")){var t=wt;t.id=h._id,M(t.id),function(e,t){e({type:ee.deleteNodeLoading});var n=JSON.stringify(t),a={method:"delete",url:De.server+"/node",headers:{"Content-Type":"application/json"},data:n};De.showMockData?setTimeout((function(){e({type:ee.editOrDeleteNode,payload:{response:t}})}),Ca):Mt()(a).then((function(n){200!==n.status&&201!==n.status||e({type:ee.editOrDeleteNode,payload:{response:t}})})).catch((function(t){return Et(t,e,ee)}))}(n,t)}},B=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(F(),je(n))};return Object(i.useEffect)((function(){g({MAC:h.mac,sensor1Rating:h.sensor_1_rating,sensor2Rating:h.sensor_2_rating})}),[h.mac,h.sensor_1_rating,h.sensor_2_rating]),Object(i.useEffect)((function(){o.id===I?T(!0):T(!1)}),[o,I]),Object(i.useEffect)((function(){S&&setTimeout((function(){F(),je(n),Da(n,d)}),2e3)}),[S,n,d]),Object(a.jsx)(Wt.a,{open:r.open,anchor:"right",onClose:function(e){return B()},children:Object(a.jsx)(Rt.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Edit Node"}),Object(a.jsxs)("form",{noValidate:!0,className:t.form,onSubmit:function(e){return e.preventDefault()},children:[S?Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(we.a,{}),fullWidth:!0,className:t.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsx)(Ft.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"MAC",label:"MAC",name:"MAC",placeholder:h.mac,defaultValue:h.mac,color:_.MAC?"secondary":"primary",onChange:function(e){return function(e){e.target.id&&g(Object(s.a)(Object(s.a)({},f),{},Object(v.a)({},e.target.id,e.target.value))),C(Object(v.a)({},e.target.id,null))}(e)},autoComplete:"off",focused:!0,inputProps:{maxLength:17},helperText:"E.g. 00:0a:95:9d:68:16"}),_.MAC?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.error,color:"secondary",children:_.MAC}):null,Object(a.jsxs)("div",{style:w.container,children:[Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.title,color:_.sensor1Rating?"secondary":"primary",children:"Sensor 1*"}),Object(a.jsx)(Na.a,{min:Fa.map((function(e){return e})).slice(0,1).pop().value,valueLabelFormat:function(e){return Fa.map((function(t){return t.value===e?t.value:null}))},step:null,valueLabelDisplay:"auto",marks:Fa,onChange:function(e,t){return function(e,t){g(Object(s.a)(Object(s.a)({},f),{},{sensor1Rating:t})),C({sensor1Rating:null})}(0,t)},color:_.sensor1Rating?"secondary":"primary",defaultValue:h.sensor_1_rating})]}),_.sensor1Rating?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.error,color:"secondary",children:_.sensor1Rating}):null,Object(a.jsxs)("div",{style:w.container,children:[Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.title,color:_.sensor2Rating?"secondary":"primary",children:"Sensor 2*"}),Object(a.jsx)(Na.a,{min:Fa.map((function(e){return e})).slice(0,1).pop().value,valueLabelFormat:function(e){return Fa.map((function(t){return t.value===e?t.value:null}))},step:null,valueLabelDisplay:"auto",marks:Fa,onChange:function(e,t){return function(e,t){g(Object(s.a)(Object(s.a)({},f),{},{sensor2Rating:t})),C({sensor1Rating:null})}(0,t)},color:_.sensor2Rating?"secondary":"primary",defaultValue:h.sensor_2_rating})]}),_.sensor2Rating?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.error,color:"secondary",children:_.sensor2Rating}):null,c?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(Bt.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submit,onClick:function(e){return R(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:t.submit,onClick:function(e){return B()},children:"Cancel"}),Object(a.jsx)("hr",{className:t.divider}),l?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"secondary",className:t.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(Bt.a,{color:"secondary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:t.submit,color:"secondary",onClick:function(e){return W(e)},children:"Delete"})]})]})})})},Wa=Object(M.a)((function(e){return N(e)})),Ba=function(e){var t=Wa(),n=Object(A.b)(),r=Object(A.c)((function(e){return e.common.toggleEditMappingFormDrawer})),o=Object(A.c)((function(e){return e.machines.editMachineMappingResponse})),c=Object(A.c)((function(e){return e.machines.editMachineMappingLoading})),l=Object(A.c)((function(e){return e.machines.deleteMachineMappingLoading})),d=Object(A.c)((function(e){return e.machines.machineMappings})).filter((function(e){return e.machine_id===r.ID&&e})).pop(),u=Object(A.c)((function(e){return e.nodes.allNodesInAZone})),m=Object(A.c)((function(e){return e.nodes.allNodesInAZoneProfiles})),h=Object.keys(u).filter((function(e){return u[e].length<2&&u[e]})),b=Object(i.useState)({MAC:"",sensor:null}),O=Object(E.a)(b,2),f=O[0],g=O[1],x=Object(i.useState)({}),y=Object(E.a)(x,2),_=y[0],C=y[1],D=Object(i.useState)(""),N=Object(E.a)(D,2),I=N[0],M=N[1],L=Object(i.useState)(!1),k=Object(E.a)(L,2),S=k[0],T=k[1],F=function(){g(Object(s.a)(Object(s.a)({},f),{},{MAC:"",sensor:null})),C({}),T(!1)},R=function(e){e.target.id&&(g(Object(s.a)(Object(s.a)({},f),{},Object(v.a)({},e.target.id,e.target.value))),C(Object(s.a)(Object(s.a)({},_),{},Object(v.a)({},e.target.id,null))))},W=function(e){e.preventDefault();var t={};if(t._id=d._id,""!==f.MAC){var a=m.map((function(e){return e.mac===f.MAC?e._id:null}));t.node_id=a.filter((function(e){return e})).pop()}else t.node_id=null;t.sensor_number=1===parseInt(f.sensor)||2===parseInt(f.sensor)?parseInt(f.sensor):null,C(Object(s.a)(Object(s.a)({},_),{},{MAC:""===f.MAC?"Cannot be empty.":null,sensor:1!==parseInt(f.sensor)&&2!==parseInt(f.sensor)?"Cannot be empty.":null})),t._id&&Object.values(t).filter((function(e){return e})).length>1&&0===Object.values(_).filter((function(e){return e})).length&&(M(t._id),function(e,t){e({type:Q.editMachineMappingLoading}),setTimeout((function(){e({type:Q.editMachineMapping,payload:{response:t}})}),Ca)}(n,t))},B=function(e){if(e.preventDefault(),window.confirm("Are you sure you want to delete this item?")){var t={id:d._id};M(t.id),function(e,t){e({type:Q.deleteMachineMappingLoading}),setTimeout((function(){e({type:Q.editMachineMapping,payload:{response:t}})}),Ca)}(n,t)}},G=function(){window.confirm("There are unsaved changes, do you wish to proceed?")&&(F(),me(n))};return Object(i.useEffect)((function(){o._id!==I&&o.id!==I||T(!0)}),[o,I]),Object(i.useEffect)((function(){S&&setTimeout((function(){F(),me(n),window.location.href=e.url}),2e3)}),[S,n,e.url]),Object(a.jsx)(Wt.a,{open:r.open,anchor:"right",onClose:function(e){return G()},children:Object(a.jsx)(Rt.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Machine Mapping"}),Object(a.jsxs)("form",{noValidate:!0,className:t.form,onSubmit:function(e){return e.preventDefault()},children:[S?Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(we.a,{}),fullWidth:!0,className:t.success,onClick:function(e){return e.preventDefault()},children:"Success"})})):null,Object(a.jsxs)(Ft.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"MAC",name:"MAC",label:"SSN MAC Address",select:!0,value:f.MAC,onChange:function(e){return R(e)},SelectProps:{native:!0},color:_.MAC?"secondary":"primary",focused:!0,children:[Object(a.jsx)("option",{value:""}),h.map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))]}),_.MAC?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.error,color:"secondary",children:_.MAC}):null,Object(a.jsxs)(Ft.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"sensor",name:"sensor",label:"Sensor",select:!0,value:f.sensor,onChange:function(e){return R(e)},focused:!!(f.MAC.length>0||_.sensor),SelectProps:{native:!0},color:_.sensor?"secondary":"primary",children:[Object(a.jsx)("option",{value:null}),u[f.MAC]&&0===u[f.MAC].length?Object(a.jsx)("option",{value:1,children:"Sensor 1"}):null,u[f.MAC]&&0===u[f.MAC].length?Object(a.jsx)("option",{value:2,children:"Sensor 2"}):null,u[f.MAC]&&1===u[f.MAC].length?1===u[f.MAC][0].Sensor_Number?Object(a.jsx)("option",{value:2,children:"Sensor 2"}):Object(a.jsx)("option",{value:1,children:"Sensor 1"}):null]}),_.sensor?Object(a.jsx)(j.a,{align:"center",gutterBottom:!0,style:w.error,color:"secondary",children:_.sensor}):null,c?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(Bt.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:t.submit,onClick:function(e){return W(e)},children:"Save"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:t.submit,onClick:function(e){return G()},children:"Cancel"}),Object(a.jsx)("hr",{className:t.divider}),l?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"secondary",className:t.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(Bt.a,{color:"secondary",size:20})}):Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",className:t.submit,color:"secondary",onClick:function(e){return B(e)},children:"Delete"})]})]})})})},Ga=Object(M.a)((function(e){return D()})),Za=["machines","nodes"],Pa=function(e){var t=Ga(),n=Object(A.b)(),r=Object(i.useState)(!1),o=Object(E.a)(r,2),c=o[0],s=o[1],l=Object(A.c)((function(e){return e.machines.machinesLoading})),d=Object(A.c)((function(e){return e.nodes.nodesLoading})),j=Object(A.c)((function(e){return e.machines.allMachinesInAZone})),h=Object(A.c)((function(e){return e.nodes.allNodesInAZone})),b=Object(i.useState)(Za[0]),O=Object(E.a)(b,2),f=O[0],g=O[1],v=Object(A.c)((function(e){return e.common.machinesOrNodesFilter}));Object(i.useEffect)((function(){g(v)}),[v]),Object(i.useEffect)((function(){!function(e){e({type:Q.machinesLoading});var t={method:"get",url:De.server+"/MachineMappings",headers:{"Content-Type":"application/json"}};De.showMockData?setTimeout((function(){e({type:Q.getAllMachineMappings,payload:St.getAllMachineMappings})}),Ca):Mt()(t).then((function(t){var n=t.data;if(ht(n)){var a=n.filter((function(e){return e}));e({type:Q.getAllMachineMappings,payload:a})}else console.log("error: unexpected response",n)})).catch((function(t){return Et(t,e,Q)}))}(n),function(e,t){e({type:Q.machinesLoading});var n={method:"get",url:De.server+"/machines",headers:{"Content-Type":"application/json"}};De.showMockData?setTimeout((function(){e({type:Q.getAllMachinesInAZone,payload:{allMachinesInAZone:St.getAllMachines,zoneID:t}})}),Ca):Mt()(n).then((function(n){var a=n.data;if(ht(a)){var i=a.filter((function(e){return e}));e({type:Q.getAllMachinesInAZone,payload:{allMachinesInAZone:i,zoneID:t}})}else console.log("error: unexpected response",a)})).catch((function(t){return Et(t,e,Q)}))}(n,e.match.params.zoneID),Da(n,e.match.params.zoneID)}),[n,e]);var _=Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,md:6,children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(mt,{list:De.navigationList.monitoring})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(yn,{options:Za,selected:f,type:ie,icon:Object(a.jsx)(ua.a,{style:{color:m.TEAL[700]},className:t.iconInsideButton})})})]})}),Object(a.jsx)(u.a,{item:!0,xs:12,md:6,children:Object(a.jsxs)(u.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center",spacing:1,children:[f===Za[1]?null:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(y.a,{title:"Compact View",placement:"top",children:Object(a.jsx)(p.a,{className:t.button,onClick:function(e){return s(!c)},style:c?{backgroundColor:m.TEAL[700]}:{},variant:"contained",children:Object(a.jsx)(ma.a,{className:t.iconInsideButton,style:c?{color:"white"}:{color:m.TEAL[700]}})})})}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(y.a,{title:f===Za[1]?"Add Node":"Add Machine",placement:"top",children:Object(a.jsx)(p.a,{className:t.button,onClick:function(e){return ue(n)},variant:"contained",children:Object(a.jsx)(x.a,{className:t.iconInsideButton,style:{color:m.TEAL[700]}})})})})]})})]}),C=f===Za[1]?d?Object(a.jsx)(Xt,{}):Object(a.jsx)(_a,{allNodesInAZone:h}):l?Object(a.jsx)(Xt,{}):Object(a.jsx)(xa,{allMachinesInAZone:j,compact:c});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(u.a,{container:!0,justify:"center",alignItems:"center",spacing:2,children:[Object(a.jsx)(u.a,{item:!0,xs:12,children:_}),Object(a.jsx)(u.a,{item:!0,xs:12,children:C})]}),f===Za[1]?Object(a.jsx)(Sa,{}):Object(a.jsx)(Ia,{url:e.match.url,params:e.match.params}),f===Za[1]?Object(a.jsx)(Ra,{url:e.match.url,params:e.match.params}):Object(a.jsx)(Ea,{url:e.match.url,params:e.match.params}),Object(a.jsx)(Ba,{url:e.match.url,params:e.match.params})]})},za=n(331),Ua=n(323),Ha=n(328),Ya=n(166),Va=n.n(Ya),qa=n(122),Ka=n.n(qa),Ja=function(){return Object(a.jsxs)(j.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(rt.a,{color:"inherit",href:"wisermachines.com/",children:"wiserMachines"}),(new Date).getFullYear(),"."]})},Xa=Object(M.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},submitLoading:{margin:e.spacing(3,0,2),height:36,padding:6},failure:{marginTop:20,backgroundColor:m.RED[600],color:"white",padding:e.spacing(2),marginBottom:e.spacing(4)},success:{marginTop:20,backgroundColor:m.LIGHTGREEN[400],color:"white",padding:e.spacing(2),marginBottom:e.spacing(4)}}})),$a=function(){var e=Xa(),t=Object(A.b)(),n=Object(A.c)((function(e){return e.auth.signinError})),r=Object(A.c)((function(e){return e.auth.signinResponse})),o=Object(A.c)((function(e){return e.auth.signinLoading})),c=Object(i.useState)({}),l=Object(E.a)(c,2),d=l[0],u=l[1],m=Object(i.useState)({name:"",password:""}),h=Object(E.a)(m,2),b=h[0],O=h[1],f=function(e){O(Object(s.a)(Object(s.a)({},b),{},Object(v.a)({},e.target.id,e.target.value))),u({name:null,password:null})},g=function(e){e.preventDefault();var n={name:""===b.name?"Cannot be empty.":null,password:""===b.password?"Cannot be empty.":null};u(n),0===Object.values(n).filter((function(e){return e})).length&&function(e,t){e({type:le}),setTimeout((function(){0===De.users.map((function(n){var a=t.name===n.name,i=t.password===n.password;return a&&i?(localStorage.setItem("user",n.name),localStorage.setItem("signedin",!0),e({type:se,payload:"Successfully signed in."}),n):null})).filter((function(e){return e})).length&&e({type:de,payload:"The user name or password you entered isn't correct. Try entering it again."})}),2e3)}(t,b)};return Object(i.useEffect)((function(){null!==r&&(window.location.href="/")}),[r]),Object(a.jsxs)(Rt.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(Ua.a,{}),Object(a.jsxs)("div",{className:e.paper,children:[Object(a.jsx)(za.a,{className:e.avatar,children:Object(a.jsx)(Va.a,{})}),Object(a.jsx)(j.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(a.jsxs)("form",{className:e.form,noValidate:!0,children:[n?Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(Ka.a,{}),fullWidth:!0,className:e.failure,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(j.a,{variant:"caption",children:n})})})):null,r?Object(a.jsx)(Ce.a,Object(s.a)(Object(s.a)({in:!0},{timeout:500}),{},{children:Object(a.jsx)(p.a,{startIcon:Object(a.jsx)(Ka.a,{}),fullWidth:!0,className:e.success,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(j.a,{variant:"caption",children:r})})})):null,Object(a.jsx)(Ft.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Username",name:"name",autoComplete:"off",onChange:function(e){return f(e)},color:d.name?"secondary":"primary",placeholder:d.name,focused:!0,style:{marginTop:20}}),Object(a.jsx)(Ft.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"off",onChange:function(e){return f(e)},color:d.password?"secondary":"primary",placeholder:d.password,focused:!0,style:{marginTop:20}}),o?Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",color:"primary",className:e.submitLoading,onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(Bt.a,{color:"primary",size:20})}):Object(a.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"outlined",color:"primary",className:e.submit,onClick:function(e){return g(e)},style:{marginTop:20},children:"Sign In"})]})]}),Object(a.jsx)(Ha.a,{mt:20,children:Object(a.jsx)(Ja,{})})]})},Qa="/signin",ei="/pagenotfound",ti="/commingsoon",ni="/monitoring/",ai=De.navigationList.monitoring[1],ii=ni+ai+"/",ri=ii+":workshopID~:workshopName/",oi=ri+":zoneID~:zoneName/",ci=oi+":machineID~:machineName/",si=function(e,t,n){return(e.endsWith("/")?e.slice(0,-1):e)+"/"+t+"~"+n.split(" ").join("_")},li=function(e){var t=e.signedin;return Object(a.jsx)(l.a,{children:Object(a.jsxs)(d.d,{children:[Object(a.jsx)(d.b,{exact:!0,path:Qa,render:function(e){return t?Object(a.jsx)(d.a,{to:"/"}):Object(a.jsx)($a,Object(s.a)({},e))}}),Object(a.jsx)(d.b,{exact:!0,path:ti,render:function(e){return t?Object(a.jsx)(f,Object(s.a)({},e)):Object(a.jsx)(d.a,{to:Qa})}}),Object(a.jsx)(d.b,{exact:!0,path:"/",render:function(e){return t?Object(a.jsx)(d.a,{to:ni}):Object(a.jsx)(d.a,{to:Qa})}}),Object(a.jsx)(d.b,{exact:!0,path:ni,render:function(e){return t?Object(a.jsx)(d.a,{to:ii}):Object(a.jsx)(d.a,{to:Qa})}}),Object(a.jsx)(d.b,{exact:!0,path:ii,render:function(e){return t?Object(a.jsx)(Qt,Object(s.a)({},e)):Object(a.jsx)(d.a,{to:Qa})}}),Object(a.jsx)(d.b,{exact:!0,path:ri,render:function(e){return t?Object(a.jsx)(ln,Object(s.a)({},e)):Object(a.jsx)(d.a,{to:Qa})}}),Object(a.jsx)(d.b,{exact:!0,path:oi,render:function(e){return t?Object(a.jsx)(Pa,Object(s.a)({},e)):Object(a.jsx)(d.a,{to:Qa})}}),Object(a.jsx)(d.b,{exact:!0,path:ci,render:function(e){return t?Object(a.jsx)(la,Object(s.a)({},e)):Object(a.jsx)(d.a,{to:Qa})}}),Object(a.jsx)(d.b,{exact:!0,path:ei,render:function(e){return t?Object(a.jsx)(h,Object(s.a)({},e)):Object(a.jsx)(d.a,{to:Qa})}}),Object(a.jsx)(d.a,{from:"*",to:ei})]})})},di=n(324),ui=n(325),ji=n(279),mi=n(280),hi=n(168),bi=n.n(hi),pi=n(170),Oi=n.n(pi),fi=n(169),gi=n.n(fi),xi=n(171),yi=n.n(xi),vi=n(167),_i=n.n(vi),Ci=Object(M.a)((function(e){return C(e)})),Di=function(e){var t=Ci(),n=Object(A.b)();return Object(a.jsx)(F.a,{color:"inherit",edge:"start",onClick:function(e){return he(n)},className:"desktop"===e.screen?t.menuButtonDesktop:"mobile"===e.screen?t.menuButtonMobile:null,children:Object(a.jsx)(_i.a,{className:"desktop"===e.screen?t.listItemIcon:null})})},Ni=Object(M.a)((function(e){return C(e)})),wi=function(e){var t=Ni(),n=Object(A.b)(),i=Object(A.c)((function(e){return e.common.toggleSideBar})),r=[{title:"Monitoring",url:ni,icon:Object(a.jsx)(dt.a,{className:t.listItemIcon})},{title:"Analytics",url:ti,icon:Object(a.jsx)(bi.a,{className:t.listItemIcon})},{title:"HR",url:ti,icon:Object(a.jsx)(gi.a,{className:t.listItemIcon})},{title:"Schedule",url:ti,icon:Object(a.jsx)(Oi.a,{className:t.listItemIcon})},{title:"Management",url:ti,icon:Object(a.jsx)(yi.a,{className:t.listItemIcon})}],o=Object(a.jsx)(ji.a,{className:t.list,children:r.map((function(e,n){return Object(a.jsx)(y.a,{title:e.title,placement:"right",disableHoverListener:i,children:Object(a.jsxs)(mi.a,{button:!0,onClick:function(t){return n=e.url,void(window.location.href=n);var n},children:[e.icon,Object(a.jsx)(j.a,{variant:"overline",className:t.listItemText,children:e.title})]},n)},n)}))}),c=Object(a.jsxs)(Wt.a,{anchor:"left",open:i,onClose:function(e){return he(n)},classes:{paper:t.drawer},ModalProps:{keepMounted:!0},children:[Object(a.jsx)("div",{className:t.drawerHeader}),o]}),s=Object(a.jsxs)(Wt.a,{variant:"permanent",className:t.drawerClose,classes:{paper:t.drawerClose},children:[Object(a.jsx)("div",{className:t.drawerHeader,children:Object(a.jsx)(Di,{screen:"desktop"})}),o]});return Object(a.jsxs)(a.Fragment,{children:[s,c]})},Ii=n(107),Mi=n.n(Ii),Ei=n(124),Ai=n.n(Ei),Li=n(172),ki=n.n(Li),Si=n(123),Ti=n.n(Si),Fi=Object(M.a)((function(e){return C(e)})),Ri=function(e){var t=Fi(),n=function(){d(),localStorage.clear(),window.location.href="/"},r=Object(i.useState)(null),o=Object(E.a)(r,2),c=o[0],s=o[1],l=Boolean(c),d=function(){s(null)},u=Object(a.jsxs)(L.a,{keepMounted:!0,anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:function(e){return d(e)},children:[Object(a.jsxs)(k.a,{children:[Object(a.jsx)(Mi.a,{className:t.menuItemIcon}),Object(a.jsx)(j.a,{color:"textSecondary",children:"Account"})]}),Object(a.jsxs)(k.a,{onClick:function(e){return n()},children:[Object(a.jsx)(Ti.a,{className:t.menuItemIcon}),Object(a.jsx)(j.a,{color:"textSecondary",children:"Signout"})]})]}),m=Object(i.useState)(null),h=Object(E.a)(m,2),b=h[0],p=h[1],O=Boolean(b),f=Object(a.jsxs)(L.a,{keepMounted:!0,anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:O,onClose:function(e){p(null)},children:[Object(a.jsxs)(k.a,{children:[Object(a.jsx)(Ai.a,{className:t.menuItemIcon}),Object(a.jsx)(j.a,{color:"textSecondary",children:"Notifications"})]}),Object(a.jsxs)(k.a,{children:[Object(a.jsx)(Mi.a,{className:t.menuItemIcon}),Object(a.jsx)(j.a,{color:"textSecondary",children:"Account"})]}),Object(a.jsxs)(k.a,{onClick:function(e){return n()},children:[Object(a.jsx)(Ti.a,{className:t.menuItemIcon}),Object(a.jsx)(j.a,{color:"textSecondary",children:"Signout"})]})]});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:t.sectionDesktop,children:[Object(a.jsx)(F.a,{color:"inherit",children:Object(a.jsx)(Ai.a,{})}),Object(a.jsx)(F.a,{edge:"end",onClick:function(e){s(e.currentTarget)},color:"inherit",children:Object(a.jsx)(Mi.a,{})})]}),Object(a.jsx)("div",{className:t.sectionMobile,children:Object(a.jsx)(F.a,{onClick:function(e){p(e.currentTarget)},color:"inherit",children:Object(a.jsx)(ki.a,{})})}),f,u]})},Wi=Object(M.a)((function(e){return C(e)})),Bi=function(e){var t=Wi();return e.signedin?Object(a.jsxs)("div",{className:t.grow,children:[Object(a.jsx)(di.a,{position:"fixed",className:t.appBar,children:Object(a.jsxs)(ui.a,{children:[Object(a.jsx)(Di,{screen:"mobile"}),Object(a.jsx)(y.a,{title:"WiserMachines",placement:"right",children:Object(a.jsx)(p.a,{edge:"start",children:Object(a.jsx)("img",{src:"/img/logo.png",alt:"WiserMachines",className:t.logo})})}),Object(a.jsx)("div",{className:t.grow}),Object(a.jsx)(Ri,{})]})}),Object(a.jsx)(wi,{}),Object(a.jsxs)("main",{className:t.content,children:[Object(a.jsx)("div",{style:{paddingTop:56}}),Object(a.jsx)("div",{children:Object(a.jsx)(u.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",children:Object(a.jsx)(u.a,{item:!0,xs:12,children:Object(a.jsx)(li,Object(s.a)({},e))})})})]})]}):Object(a.jsx)(li,Object(s.a)({},e))},Gi=n(326),Zi=function(e){e.classes;var t=Object(A.c)((function(e){return e.errors.errorCode})),n=Object(A.c)((function(e){return e.errors.errorMessage})),i=function(){window.location.reload()};return Object(a.jsx)(Wt.a,{open:null!==t,anchor:"top",onClose:i,type:"temporary",children:Object(a.jsx)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{width:"100vw",height:"100vh"},spacing:0,children:Object(a.jsx)(u.a,{item:!0,children:Object(a.jsxs)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:6,children:[Object(a.jsxs)(u.a,{item:!0,children:[Object(a.jsx)(j.a,{variant:"h5",gutterBottom:!0,align:"center",children:t}),Object(a.jsx)(j.a,{variant:"body1",gutterBottom:!0,align:"center",children:n})]}),Object(a.jsx)(u.a,{item:!0,children:Object(a.jsxs)(Gi.a,{children:[Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",onClick:function(e){return i()},color:"primary",children:"Refresh"}),Object(a.jsx)(p.a,{fullWidth:!0,variant:"outlined",onClick:function(e){window.history.go(-1)},color:"primary",children:"Go Back"})]})})]})})})})},Pi=function(e){var t=localStorage.getItem("signedin");return Object(i.useEffect)((function(){document.body.style.backgroundColor=m.BLUEGREY[100]}),[]),Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(Bi,Object(s.a)(Object(s.a)({},e),{},{signedin:t})),Object(a.jsx)(Zi,Object(s.a)({},e))]})},zi=n(46),Ui=n(173),Hi={allWorkshops:[],workshopsLoading:!1,addWorkshopResponse:0,editWorkshopResponse:0,addWorkshopLoading:!1,editWorkshopLoading:!1,deleteWorkshopLoading:!1,notFound:!1},Yi={workshopID:"",allZonesInAWorkshop:[],zonesLoading:!1,addZoneResponse:0,editZoneResponse:0,addZoneLoading:!1,editZoneLoading:!1,deleteZoneLoading:!1,notFound:!1},Vi={zoneID:"",allMachinesInAZone:[],machineMappings:[],machinesLoading:!1,addMachineResponse:0,editMachineResponse:0,editMachineMappingResponse:0,addMachineLoading:!1,editMachineLoading:!1,deleteMachineLoading:!1,editMachineMappingLoading:!1,deleteMachineMappingLoading:!1,notFound:!1},qi={zoneID:"",allNodesInAZone:[],allNodesInAZoneProfiles:[],nodesLoading:!1,addNodeResponse:0,editNodeResponse:0,addNodeLoading:!1,editNodeLoading:!1,deleteNodeLoading:!1,notFound:!1},Ki={machineID:"",data:[],timeFilter:"",machineLoading:!1,noStoredMachineDataResponse:null,notFound:!1},Ji={timeFilter:"",toggleAddFormDrawer:!1,toggleEditFormDrawer:{open:!1,ID:"",name:""},toggleEditMappingFormDrawer:{open:!1,ID:"",name:""},machinesOrNodesFilter:"machines",toggleSideBar:!1},Xi={signinLoading:!1,signinError:null,signinResponse:null,signoutResponse:null,user:localStorage.getItem("user")},$i={errorCode:null,errorMessage:null},Qi=Object(zi.c)({workshops:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X.workshopsLoading:return Object(s.a)(Object(s.a)({},e),{},{workshopsLoading:!0});case X.getAllWorkshops:return Object(s.a)(Object(s.a)({},e),{},{allWorkshops:t.payload,workshopsLoading:!1,notFound:!1});case X.addWorkshopLoading:return Object(s.a)(Object(s.a)({},e),{},{addWorkshopLoading:!0});case X.addWorkshop:return Object(s.a)(Object(s.a)({},e),{},{addWorkshopResponse:t.payload.response,addWorkshopLoading:!1});case X.editWorkshopLoading:return Object(s.a)(Object(s.a)({},e),{},{editWorkshopLoading:!0});case X.deleteWorkshopLoading:return Object(s.a)(Object(s.a)({},e),{},{deleteWorkshopLoading:!0});case X.editOrDeleteWorkshop:return Object(s.a)(Object(s.a)({},e),{},{editWorkshopResponse:t.payload.response,editWorkshopLoading:!1,deleteWorkshopLoading:!1});case X.notFound:return Object(s.a)(Object(s.a)({},e),{},{notFound:!0});default:return e}},zones:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.zonesLoading:return Object(s.a)(Object(s.a)({},e),{},{zonesLoading:!0});case $.getAllZonesInAWorkshop:return Object(s.a)(Object(s.a)({},e),{},{allZonesInAWorkshop:t.payload.allZonesInAWorkshop,workshopID:t.payload.workshopID,zonesLoading:!1,notFound:!1});case $.addZoneLoading:return Object(s.a)(Object(s.a)({},e),{},{addZoneLoading:!0});case $.addZone:return Object(s.a)(Object(s.a)({},e),{},{addZoneResponse:t.payload.response,addZoneLoading:!1});case $.editZoneLoading:return Object(s.a)(Object(s.a)({},e),{},{editZoneLoading:!0});case $.deleteZoneLoading:return Object(s.a)(Object(s.a)({},e),{},{deleteZoneLoading:!0});case $.editOrDeleteZone:return Object(s.a)(Object(s.a)({},e),{},{editZoneResponse:t.payload.response,editZoneLoading:!1,deleteZoneLoading:!1});case $.notFound:return Object(s.a)(Object(s.a)({},e),{},{notFound:!0});default:return e}},machines:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q.machinesLoading:return Object(s.a)(Object(s.a)({},e),{},{machinesLoading:!0});case Q.getAllMachinesInAZone:return Object(s.a)(Object(s.a)({},e),{},{allMachinesInAZone:t.payload.allMachinesInAZone,zoneID:t.payload.zoneID,machinesLoading:!1,notFound:!1});case Q.getAllMachineMappings:return Object(s.a)(Object(s.a)({},e),{},{machineMappings:t.payload,machinesLoading:!1});case Q.addMachineLoading:return Object(s.a)(Object(s.a)({},e),{},{addMachineLoading:!0});case Q.editMachineLoading:return Object(s.a)(Object(s.a)({},e),{},{editMachineLoading:!0});case Q.deleteMachineLoading:return Object(s.a)(Object(s.a)({},e),{},{deleteMachineLoading:!0});case Q.editMachineMappingLoading:return Object(s.a)(Object(s.a)({},e),{},{editMachineMappingLoading:!0});case Q.deleteMachineMappingLoading:return Object(s.a)(Object(s.a)({},e),{},{deleteMachineMappingLoading:!0});case Q.addMachine:return Object(s.a)(Object(s.a)({},e),{},{addMachineResponse:t.payload.response,addMachineLoading:!1});case Q.editOrDeleteMachine:return Object(s.a)(Object(s.a)({},e),{},{editMachineResponse:t.payload.response,editMachineLoading:!1,deleteMachineLoading:!1});case Q.editMachineMapping:return Object(s.a)(Object(s.a)({},e),{},{editMachineMappingResponse:t.payload.response,editMachineMappingLoading:!1,deleteMachineMappingLoading:!1});case Q.notFound:return Object(s.a)(Object(s.a)({},e),{},{notFound:!0});default:return e}},nodes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.nodesLoading:return Object(s.a)(Object(s.a)({},e),{},{nodesLoading:!0});case ee.getAllNodesInAZone:return Object(s.a)(Object(s.a)({},e),{},{allNodesInAZone:t.payload.allNodesInAZone,allNodesInAZoneProfiles:t.payload.allNodesInAZoneProfiles,zoneID:t.payload.zoneID,nodesLoading:!1,notFound:!1});case ee.addNodeLoading:return Object(s.a)(Object(s.a)({},e),{},{addNodeLoading:!0});case ee.addNode:return Object(s.a)(Object(s.a)({},e),{},{addNodeResponse:t.payload.response,addNodeLoading:!1});case ee.editNodeLoading:return Object(s.a)(Object(s.a)({},e),{},{editNodeLoading:!0});case ee.deleteNodeLoading:return Object(s.a)(Object(s.a)({},e),{},{deleteNodeLoading:!0});case ee.editOrDeleteNode:return Object(s.a)(Object(s.a)({},e),{},{editNodeResponse:t.payload.response,editNodeLoading:!1,deleteNodeLoading:!1});case ee.notFound:return Object(s.a)(Object(s.a)({},e),{},{notFound:!0});default:return e}},machineDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.machineLoading:return Object(s.a)(Object(s.a)({},e),{},{machineLoading:!0});case te.getMachineDataByID:return Object(s.a)(Object(s.a)({},e),{},{machineID:t.payload.ID,data:t.payload.data,noStoredMachineDataResponse:null,notFound:!1,machineLoading:!1});case te.noStoredMachineDataResponse:return Object(s.a)(Object(s.a)({},e),{},{machineID:t.payload.ID,noStoredMachineDataResponse:"No data has yet been stored for this machine.",data:[],machineLoading:!1});case te.notFound:return Object(s.a)(Object(s.a)({},e),{},{notFound:!0});default:return e}},common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ji,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(s.a)(Object(s.a)({},e),{},{timeFilter:t.payload.timeFilter});case ae:return Object(s.a)(Object(s.a)({},e),{},{toggleAddFormDrawer:!e.toggleAddFormDrawer});case re:return Object(s.a)(Object(s.a)({},e),{},{toggleEditFormDrawer:{open:!e.toggleEditFormDrawer.open,ID:t.payload.ID,name:t.payload.name}});case oe:return Object(s.a)(Object(s.a)({},e),{},{toggleEditMappingFormDrawer:{open:!e.toggleEditMappingFormDrawer.open,ID:t.payload.ID,name:t.payload.name}});case ie:return Object(s.a)(Object(s.a)({},e),{},{machinesOrNodesFilter:t.payload.machinesOrNodesFilter});case ce:return Object(s.a)(Object(s.a)({},e),{},{toggleSideBar:!e.toggleSideBar});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(s.a)(Object(s.a)({},e),{},{signinLoading:!0,signinError:null,signinResponse:null});case se:return Object(s.a)(Object(s.a)({},e),{},{signinLoading:!1,signinError:null,signinResponse:t.payload});case de:return Object(s.a)(Object(s.a)({},e),{},{signinLoading:!1,signinResponse:null,signinError:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case 500:return Object(s.a)(Object(s.a)({},e),{},{errorCode:t.type,errorMessage:"Internal Server Error"});default:return e}}}),er=[Ui.a],tr=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),nr=Object(zi.e)(Qi,void 0===tr?Object(zi.d)(zi.a.apply(void 0,er)):Object(zi.d)(zi.a.apply(void 0,er),tr)),ar=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,334)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))};c.a.render(Object(a.jsx)(A.a,{store:nr,children:Object(a.jsx)(Pi,{})}),document.getElementById("root")),ar()}},[[272,1,2]]]);
//# sourceMappingURL=main.eaf4028c.chunk.js.map